{"body":"\n<h3> All submissions for this problem are available. <\/h3><p>\nToday, Ciel's restaurant is closed.\nCiel is bored, so she decides to take a walk randomly.\n<\/p>\n\n<p>\nThis town has <strong>N<\/strong> intersections and <strong>M<\/strong> one way roads.\nThe <strong>i<\/strong>-th road connects from the <strong>A<sub>i<\/sub><\/strong>-th intersection to the <strong>B<sub>i<\/sub><\/strong>-th intersection.\nCiel is in the 1st intersection now, and Ciel's house is in the <strong>N<\/strong>-th intersection.\n<\/p>\n\n<p>\nIf Ciel is in the <strong>i<\/strong>-th intersection, she will take a walk as follows:\n<\/p>\n\n<ul>\n<li>If <strong>i<\/strong> = <strong>N<\/strong>, her walk is ended.<\/li>\n<li>Otherwise, she chooses an integer <strong>k<\/strong> such that <strong>A<sub>k<\/sub><\/strong> = <strong>i<\/strong> uniformly randomly, she walks along the <strong>k<\/strong>-th road.<\/li>\n<\/ul>\n\n<p>\nOn the way, <strong>S<\/strong> intersections have beautiful flowers.\nLet the <strong>F<\/strong><sub>1<\/sub>-th intersection, the <strong>F<\/strong><sub>2<\/sub>-th intersection, ..., and the <strong>F<sub>S<\/sub><\/strong>-th intersection have beautiful flowers.\nCan you tell the probability that Ciel last sees the flowers in the <strong>F<sub>i<\/sub><\/strong>-th intersection?\nThat is to say, can you tell the probability that she visits the <strong>F<sub>i<\/sub><\/strong>-th intersection, then she goes to <strong>N<\/strong>-th intersection without visiting other intersections having beautiful flowers?\n<\/p>\n\n<h3>Input<\/h3>\n<p>\nThe first line contains 3 integers <strong>N<\/strong>, <strong>M<\/strong> and <strong>S<\/strong>.\nThen, next line has <strong>S<\/strong> integers <strong>F<\/strong><sub>1<\/sub>, <strong>F<\/strong><sub>2<\/sub>, ..., <strong>F<sub>S<\/sub><\/strong>.\nNext <strong>M<\/strong> lines have 2 integers each, <strong>A<sub>i<\/sub><\/strong> and <strong>B<sub>i<\/sub><\/strong>.\n<\/p>\n\n<h3>Output<\/h3>\n<p>\nAn output should contain <strong>S<\/strong> lines.\nIn the <strong>i<\/strong>-th line, print the probability that Ciel last sees beautiful flowers at the <strong>F<sub>i<\/sub><\/strong>-th intersection.\nThese values must have an absolute error no more than 10<sup>-6<\/sup>.\n<\/p>\n\n<h3>Constraints<\/h3>\n<p>\n1 \u2264 <strong>S<\/strong> &lt; <strong>N<\/strong> \u2264 30<br \/>\n1 \u2264 <strong>F<sub>1<\/sub><\/strong> &lt; <strong>F<sub>2<\/sub><\/strong> &lt; ... &lt; <strong>F<sub>S<\/sub><\/strong> &lt; N<br \/>\n<strong>A<sub>i<\/sub><\/strong> \u2260 <strong>B<sub>i<\/sub><\/strong><br \/>\nIf <strong>i<\/strong> \u2260 <strong>j<\/strong> and <strong>A<sub>i<\/sub><\/strong> = <strong>A<sub>j<\/sub><\/strong>, then <strong>B<sub>i<\/sub><\/strong> \u2260 <strong>B<sub>j<\/sub><\/strong><br \/>\nFor each 1 \u2264 <strong>i<\/strong> &lt; <strong>N<\/strong>, Ciel can go from the <strong>i<\/strong>-th intersection to the <strong>N<\/strong>-th intersection, directly or indirectly.\n<\/p>\n\n<h3>Sample Input 1<\/h3>\n<pre>4 6 3\n1 2 3\n1 2\n2 1\n1 3\n3 1\n2 4\n3 4<\/pre>\n\n<h3>Sample Output 1<\/h3>\n<pre>0\n0.5\n0.5<\/pre>\n\n<h3>Sample Input 2<\/h3>\n<pre>4 6 1\n2\n1 2\n2 1\n1 3\n3 1\n2 4\n3 4<\/pre>\n\n<h3>Sample Output 2<\/h3>\n<pre>0.6666666666667<\/pre>\n\n<h3>Sample Input 3<\/h3>\n<pre>2 1 1\n1\n1 2<\/pre>\n\n<h3>Sample Output 3<\/h3>\n<pre>1<\/pre>\n\n<h3>Notes<\/h3>\n<p>\nThe sum of output values can be less than 1, because Ciel may go back to her house without seeing beautiful flowers.\n<\/p>    ","languages_supported":"NA","title":"CIELWALK","category":"NA","old_version":true,"problem_code":"CIELWALK"}