
{"category_name":"hard","status":"success","problem_code":"DISTRING","problem_name":"Distinct Rows in Submatrices","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements [Hindi](http:\/\/www.codechef.com\/download\/translated\/OCT18\/hindi\/DISTRING.pdf) ,[Bengali](http:\/\/www.codechef.com\/download\/translated\/OCT18\/bengali\/DISTRING.pdf) , [Mandarin chinese](http:\/\/www.codechef.com\/download\/translated\/OCT18\/mandarin\/DISTRING.pdf) , [Russian](http:\/\/www.codechef.com\/download\/translated\/OCT18\/russian\/DISTRING.pdf) and [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/OCT18\/vietnamese\/DISTRING.pdf) as well.\n\nLet's define the *strength* of a matrix as the number of distinct rows in it. Two rows $a_1, a_2, \\dots, a_n$ and $b_1, b_2, \\dots, b_n$ are distinct if there is an index $i$ such that $a_i \\neq b_i$.\n\nYou are given an integer matrix $A$ with $N$ rows (numbered $1$ through $N$) and $M$ columns (numbered $1$ through $M$). A submatrix of $A$ is formed as the intersection of rows $r_1$ through $r_2$ and columns $c_1$ through $c_2$ for any $r_1 \\le r_2, c_1 \\le c_2$. Find the sum of the strengths of all submatrices of $A$.\n\n### Input\n- The first line of the input contains two space-separated integers $N$ and $M$.\n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains $M$ space-separated integers $A_{i, 1}, A_{i, 2}, \\dots, A_{i, M}$.\n\n### Output\nPrint a single line containing one integer \u2014 the sum of strengths of all the submatrices.\n\n### Constraints \n- $1 \\le N \\cdot M \\le 500,000$\n- $ 1 \\le A_{i,j} \\le 10^9$ for each valid $i, j$\n\n### Subtasks\n**Subtask #1 (20 points):** $1 \\le N \\cdot M \\le 1,000$\n\n**Subtask #2 (80 points):** original constraints\n\n### Example Input\n```\n2 2\n1 1\n1 2\n```\n\n### Example Output\n```\n11\n```\n\n### Explanation\nThe submatrices are\n```\n1\n\n1\n\n1\n\n2\n\n1 1\n\n1 2\n\n1\n1\n\n1\n2\n\n1 1\n1 2\n```\nwith strengths $1, 1, 1, 1, 1, 1, 1, 2, 2$ respectively. The sum of these strengths is $11$.\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"2","source_sizelimit":"50000","problem_author":"jtnydv25","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>jtnydv25<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"24-09-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dsu'>dsu<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hard'>hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/jtnydv25'>jtnydv25<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/lcp'>lcp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/oct18'>oct18<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/suffix-array'>suffix-array<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/DISTRING","time":{"view_start_date":1540027803,"submit_start_date":1540027803,"visible_start_date":1540027803,"end_date":1735669800,"current":1559472990},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}