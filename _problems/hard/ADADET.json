{"category_name":"hard","status":"success","problem_code":"ADADET","problem_name":"A Study in Bake Street","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK83\/mandarin\/ADADET.pdf\">mandarin chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK83\/russian\/ADADET.pdf\">russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK83\/vietnamese\/ADADET.pdf\">vietnamese<\/a> as well.<\/h3>\n\n<p>\nChef Ada is not just a Chef but also a detective. Currently she is investigating a massive murdering case in Bake Street.\n<\/p>\n<p>\nBake Street is composed of <b>n<\/b> buildings in a straight line. They are numbered from 1 to <b>n<\/b>, as you move from left to right. The i-th building is at position <b> x<sub>i<\/sub> <\/b> and has height <b>h<sub>i<\/sub><\/b>. The buildings are so thin that we can consider them as vertical segments.\nThe murderer climbed to the top of one of the buildings and shot at all the buildings to the right, which had a lesser height than the building on which he was, and which were in his line of sight.\n<\/p>\n<p>\nAda is interested in the rightmost building that was shot by the murderer. Since we don't know the building from which the murderer was shooting, your task is to calculate it for every possible initial position.\n<\/p>\n\n<h3>Input<\/h3>\n<p>\nThe first line of input contains one number <b>T<\/b>, the number of test cases. <b>T<\/b> test cases follows.\nThe first line of each test case contains an integer <b>n<\/b>, the number of buildings.\nThe next <b>n<\/b> lines contains two integers <b>x<sub>i<\/sub><\/b>, <b>h<sub>i<\/sub><\/b>. the position and height of the i-th building.\n<\/p>\n<h3>Output<\/h3>\n<p>\nFor each testcase print <b>n<\/b> integers: <b>a<sub>i<\/sub><\/b>, the rightmost building shot at, if the murderer started at building <b>i<\/b>. If the murderer didn't shoot to any building, print -1.\n<\/p>\n\n<h3>Constraints<\/h3>\n<li>1 \u2264 <b>n<\/b> \u2264 10<sup>5<\/sup><\/li>\n<li>1 \u2264 <b>x<sub>i<\/sub>, h<sub>i<\/sub><\/b> \u2264 10<sup>6<\/sup><\/li>\n<li><b>x<sub>i<\/sub><\/b> &lt; <b>x<sub>i+1<\/sub><\/b>, for all 1 \u2264 <b>i<\/b> &lt; n<\/b> <\/li>\n<li>No two different buildings are of the same height<\/li>\n<li>The sum of <b>n<\/b> over all test cases is at most 5 * 10<sup>5<\/sup><\/li>\n\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n1\n7\n1 130\n65 110\n120 40\n160 60\n240 100\n280 65\n320 30\n\n<b>Output:<\/b>\n5 5 -1 -1 7 7 -1\n<\/pre>\n<h3>Explanation<\/h3>\n<img src=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/upload\/COOK83\/detective.png\"><\/img>\n<p>\nThe lines of shooting are shown in the figure above.<\/p>\n\n<p>From building 1, buildings 2 and 5 are shot. As the rightmost is building 5, that is the answer for building 1. Note that from building 1 is not possible to shoot at building 4 (dotted line) because building 2 obstructs the line of sight.<\/p>\n<p>From building 2, buildings 3, 4 and 5 are shot. From building 3 and 4, no building is shot at. Hence the third and fourth outputs are -1.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 6.3, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.5, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"alei","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>alei<\/span>","problem_tester":"deadwing97","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>deadwing97<\/span>","date_added":"30-05-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/alei'>\n                    alei\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/convex'>\n                    convex\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook83'>\n                    cook83\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/geometry'>\n                    geometry\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hull'>\n                    hull\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/stack'>\n                    stack\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ADADET","time":{"view_start_date":1497812400,"submit_start_date":1497812400,"visible_start_date":1497812400,"end_date":1735669800,"current":1514816598},"user":{"username":null},"todo":false,"problem_status":"unattempted"}