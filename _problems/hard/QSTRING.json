{"category_name":"hard","status":"success","problem_code":"QSTRING","problem_name":"Stringology is Magic","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/OCT14\/mandarin\/QSTRING.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/OCT14\/russian\/QSTRING.pdf\">Russian<\/a>.<\/h3>\n<p>You have been given a string <b>T<\/b> with <b>n<\/b> lowercase letters <b>T[1..n]<\/b>. For each substrings <b>T[l..r]<\/b>, we can assign them two values, <b>k1<\/b> and <b>k2<\/b>, which are defined as following.<\/p>\n<ul>\n<li><b>k1<\/b> is the number of different substrings which are lexicographically smaller than <b>T[l..r]<\/b>. There are <b>(n + 1) * n \/ 2<\/b> substrings in total.<\/li>\n<li><b>k2<\/b> indicates the number of substrings which are as same as <b>T[l..r]<\/b> but have smaller left subscript than <b>l<\/b>.<\/li>\n<\/ul>\n<p>\nIn this problem, you need to answer the following two queries:\n<\/p>\n<ul>\n<li>Select <b>k1<\/b> <b>k2<\/b>: report <b>l<\/b> and <b>r<\/b>, such that <b>T[l..r]<\/b> are assigned values <b>k1<\/b> and <b>k2<\/b>.<\/li>\n<li>Rank <b>l<\/b> <b>r<\/b>: output the assigned <b>k1<\/b> and <b>k2<\/b> of <b>T[l..r]<\/b>.<\/li>\n<\/ul>\n<h3>Input<\/h3>\n<p>\nThe first line contains a string <b>T<\/b> with <b>n<\/b> letters . The second line contains a number <b>m<\/b>, which represents for the totally number of queries.\n<\/p>\n<p>\nEach of the following <b>m<\/b> lines contains a query. All queries are formed as \"Select <b>k1<\/b> <b>k2<\/b>\" or \"Rank <b>l<\/b> <b>r<\/b>\".\n<\/p>\n<h3>Output<\/h3>\n<p>For each query, output the corresponding answer as the form \"<b>l<\/b> <b>r<\/b>\" or \"<b>k1<\/b> <b>k2<\/b>\" in a single line.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> &lt;= <b>n<\/b> &lt;= <b>10^6<\/b><\/li>\n<li><b>1<\/b> &lt;= <b>m<\/b> &lt;= <b>10^6<\/b><\/li>\n<li><b>1<\/b> &lt;= <b>l<\/b> &lt;= <b>r<\/b> &lt;= <b>n<\/b><\/li>\n<li><b>k1<\/b>, <b>k2<\/b> are legal<\/li>\n<p>.\n<\/p><\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\naa\n6\nSelect 1 1\nSelect 1 2\nSelect 2 1\nRank 1 1\nRank 2 2\nRank 1 2\n<\/pre><pre><b>Output:<\/b>\n1 1\n2 2\n1 2\n1 1\n1 2\n2 1\n<\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1 - 10","source_sizelimit":"50000","problem_author":"xiaodao","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>xiaodao<\/span>","problem_tester":"shangjingbo","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>shangjingbo<\/span>","date_added":"6-09-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/oct14'>\n                    oct14\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/suffix-array'>\n                    suffix-array\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xiaodao'>\n                    xiaodao\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/QSTRING","user":{"username":null},"time":{"view_start_date":1413192600,"submit_start_date":1413192600,"visible_start_date":1413192600,"end_date":1735669800,"current":1493556981},"todo":false,"problem_status":"unattempted"}