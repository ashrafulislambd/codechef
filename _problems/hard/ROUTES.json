{"category_name":"hard","status":"success","problem_code":"ROUTES","problem_name":"Safe Routes","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>Alice is the queen of ChefLand. She has initiated a road reform recently. The reform will last for <b>M<\/b> days.<\/p>\n<p>Initially, there are <b>N<\/b> towns and no roads in ChefLand. Every day one bidirectional road will be built. On the <b>i<\/b>-th day, the road connecting the towns <b>A<sub>i<\/sub><\/b> and <b>B<sub>i<\/sub><\/b> will be built.<\/p>\n<p>Nevertheless, Alice worries that if there is a road that will occur in <b>every<\/b> route from the town <b>A<\/b> to the town <b>B<\/b> for some pair of towns <b>A<\/b> and <b>B<\/b>, criminals might attack everyone who is traveling from the town <b>A<\/b> to the town <b>B<\/b> (or vice versa) for sure. So she calls such an unordered pair (<b>A<\/b>, <b>B<\/b>) <i>unsafe<\/i>.<\/p>\n<p>You are given a plan of the road reform. Please, output the number of unsafe unordered pairs of towns, after each of <b>M<\/b> days.<\/p>\n<h3>Input<\/h3>\n<p>The first line of input consists of the numbers <b>N<\/b> and <b>M<\/b> - the number of towns and the number of days.<br \/><br \/>\nThe following <b>M<\/b> lines will describe the road reform. The <b>i<\/b>-th line will contain two integers <b>X<\/b> <b>Y<\/b>. That means that the bidirectional road, connecting the towns <b>X<\/b> and <b>Y<\/b> will be built during the <b>i<\/b>-th day. <\/p>\n<h3>Output<\/h3>\n<p>Output <b>M<\/b> lines. The <b>i<\/b>-th line should contain the number of unsafe pairs of towns after the <b>i<\/b>-th day.<\/p>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n10 10\n6 7\n1 10\n8 4\n9 7\n10 4\n5 7\n1 3\n5 2\n6 1\n8 6\n\n<b>Output:<\/b>\n1\n2\n3\n5\n9\n12\n16\n20\n45\n35\n\n<\/pre><h3>Scoring<\/h3>\n<p>Subtask 1 (22 points): 1 &lt;= <b>N<\/b> &lt;= 5, 1 &lt;= <b>M<\/b> &lt;= 5.<br \/><br \/>\nSubtask 2 (13 points): 1 &lt;= <b>N<\/b> &lt;= 100, 1 &lt;= <b>M<\/b> &lt;= 100.<br \/><br \/>\nSubtask 3 (20 points): 1 &lt;= <b>N<\/b> &lt;= 5000, 1 &lt;= <b>M<\/b> &lt;= 5000.<br \/><br \/>\nSubtask 4 (45 points): 1 &lt;= <b>N<\/b> &lt;= 5*10<sup>5<\/sup>, 1 &lt;= <b>M<\/b> &lt;= 5*10<sup>5<\/sup>.<br \/><\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"xcwgf666","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","problem_tester":"Rubanenko","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>rubanenko<\/span>","date_added":"22-07-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dynamic-bcc'>\n                    dynamic-bcc\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime03'>\n                    ltime03\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xcwgf666'>\n                    xcwgf666\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/ROUTES","user":{"username":null},"time":{"view_start_date":1377419555,"submit_start_date":1377419555,"visible_start_date":1377419423,"end_date":1735669800,"current":1493556824},"todo":false,"problem_status":"unattempted"}