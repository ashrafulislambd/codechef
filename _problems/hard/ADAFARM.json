
{"category_name":"hard","status":"success","problem_code":"ADAFARM","problem_name":"Ada Farm","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/COOK99\/hindi\/ADAFARM.pdf), [Spanish](http:\/\/www.codechef.com\/download\/translated\/COOK99\/spanish\/ADAFARM.pdf), [Mandarin chinese](http:\/\/www.codechef.com\/download\/translated\/COOK99\/mandarin\/ADAFARM.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/COOK99\/russian\/ADAFARM.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/COOK99\/vietnamese\/ADAFARM.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/COOK99\/bengali\/ADAFARM.pdf) as well.\n\n\nAda has a farm in the shape of a convex polygon. For simplicity, the vertices of the polygon are numbered $1$ through $N$ in clockwise order.\n\nThere are many cows living on the farm. Cows fight often, so Ada wants to divide the farm into separate regions using fences to prevent accidents. Each fence can be considered a line segment.\n\nAda is worried about the free space available for each cow, so she needs to know the area of the region inhabited by a particular cow sometimes. As her apprentice, your task is to perform $Q$ queries. There are two types of queries:\n- $1\\;u\\;v$: Build a fence between vertices $u$ and $v$. It is guaranteed that this fence does not intersect any previously built fence (but they may have common endpoints).\n- $2\\;x\\;y$: Find the area of the region inhabited by a cow at position $(x, y)$. Sometimes, the point may lie on a fence (the cow is trying to cross the fence); it may also be outside the farm or on its border (the cow is escaping!). In these cases, the area is $0$.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains two space-separated integers $x$ and $y$ denoting the coordinates of the $i$-th vertex.\n- Each of the next $Q$ lines contains three space-separated integers describing a query in the above format.\n\n### Output\nFor each query of the second type, print a single line containing one real number with exactly one decimal place \u2014 the area of the given region.\n\n### Constraints \n- $1 \\le T \\le 4$\n- $3 \\le N \\le 10^5$\n- $1 \\le Q \\le 10^5$\n- the sum of $N$ over all test cases does not exceed $3 \\cdot 10^5$\n- the sum of $Q$ over all test cases does not exceed $3 \\cdot 10^5$\n- $1 \\le u, v \\le N$\n- $0 \\le x, y \\le 2 \\cdot 10^9$\n- no three vertices are collinear\n\n### Example Input\n```\n1\n6 5\n5 0\n3 0\n0 3\n2 5\n6 5\n8 3\n2 3 1\n1 4 1\n2 3 1\n1 4 6\n2 6 4\n```\n\n### Example Output\n```\n27.0\n11.0\n4.0\n```\n\t\n### Explanation\n**Example case 1:**\n\n<img src=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/CK99TST\/ADAFARM\/ADAFARM.png\"><\/img>\n\nThe farm is a hexagon as depicted in the picture above. The queries are as follows:\n- Query on point $\\mathsf{G}$, the answer is the area of the hexagon.\n- Add fence $\\mathsf{AD}$, the farm is split into two regions.\n- Again a query on point $\\mathsf{G}$, the answer is the area of region $\\mathsf{ABCD}$.\n- Add fence $\\mathsf{DF}$, the farm is split into three regions in total.\n- Query on point $\\mathsf{H}$, the answer is the area of region $\\mathsf{DEF}$.\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"3","source_sizelimit":"50000","problem_author":"alei","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>alei<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"31-08-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/alei'>alei<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/centroid-decomp'>centroid-decomp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook99'>cook99<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/disjoint-set'>disjoint-set<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/geometry'>geometry<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hard'>hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/implementation'>implementation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ADAFARM","time":{"view_start_date":1540146602,"submit_start_date":1540146602,"visible_start_date":1540146602,"end_date":1735669800,"current":1559472988},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}