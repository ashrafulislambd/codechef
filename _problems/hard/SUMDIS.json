{"category_name":"hard","status":"success","problem_code":"SUMDIS","problem_name":"Sum of distances","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/MARCH17\/mandarin\/SUMDIS.pdf?v=1\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/MARCH17\/russian\/SUMDIS.pdf?v=1\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/MARCH17\/vietnamese\/SUMDIS.pdf?v=1\">Vietnamese<\/a> as well.<\/h3>\n\n<p>\n\tThere is a <strong>directed<\/strong> acyclic graph with <strong>N<\/strong> vertices. The vertices are numbered from <strong>1<\/strong> to <strong>N<\/strong>.<\/p>\n<p>\n\tFor every <strong>1 \u2264 i \u2264 N-1<\/strong>, there is an edge from vertex <strong>i<\/strong> to vertex <strong>i+1<\/strong>, which has weight <strong>a<sub>i<\/sub><\/strong>.<\/p>\n<p>\n\tFor every <strong>1 \u2264 i \u2264 N-2<\/strong>, there is an edge from vertex <strong>i<\/strong> to vertex <strong>i+2<\/strong>, which has weight <strong>b<sub>i<\/sub><\/strong>.<\/p>\n<p>\n\tFor every <strong>1 \u2264 i \u2264 N-3<\/strong>, there is an edge from vertex <strong>i<\/strong> to vertex <strong>i+3<\/strong>, which has weight <strong>c<sub>i<\/sub><\/strong>.<\/p>\n<p>\n\tThere are no other edges.<\/p>\n<p>\n\tFor each pair of vertices <strong>s<\/strong>,\u00a0<strong>t<\/strong> where <strong>s &lt; t<\/strong>, let <strong>d(s, t)<\/strong> denote the length of the shortest path from <strong>s<\/strong> to <strong>t<\/strong>. Your task is to compute the sum of <strong>d(s, t)<\/strong> for every <strong>1 \u2264 s &lt; t \u2264 N.<\/strong><\/p>\n\n<h3>\n\tInput<\/h3>\n<p>\n\tFirst line of the input contains an integer <b>T<\/b> denoting number of test cases. <b>T<\/b> test cases follow.<\/p>\n<p>\n\tFor each test case:<\/p>\n<p>\n\tThe first line contains an integer <strong>N<\/strong>.<\/p>\n<p>\n\tThe second line contains <strong>N - 1<\/strong> integers <strong>a<sub>1<\/sub><\/strong>,\u00a0<strong>a<sub>2<\/sub><\/strong>, ...,\u00a0<strong>a<sub>N-1<\/sub><\/strong>.<\/p>\n<p>\n\tThe third line contains <strong>N - 2<\/strong> integers <strong>b<sub>1<\/sub><\/strong>,\u00a0<strong>b<sub>2<\/sub><\/strong>, ...,\u00a0<strong>b<sub>N-2<\/sub><\/strong>.<\/p>\n<div>\n\t<p>\n\t\tThe fourth line contains <strong>N - 3<\/strong> integers <strong>c<sub>1<\/sub><\/strong>,\u00a0<strong>c<sub>2<\/sub><\/strong>, ...,\u00a0<strong>c<sub>N-3<\/sub><\/strong>.<\/p>\n<\/div>\n<h3>\n\tOutput<\/h3>\n<p>\n\tFor each test case, output a single line containing an integer, denoting the answer. It can be proved that the answer fits in the signed 64-bit type.<\/p>\n<h3>\n\tConstraints<\/h3>\n<ul>\n\t<li>\n\t\t<strong>1 \u2264 T \u2264 10<sup>4<\/sup><\/strong><\/li>\n\t<li>\n\t\t<strong>4<strong> \u2264 <\/strong>N \u2264 10<sup>5<\/sup><\/strong><\/li>\n\t<li>\n\t\t<strong>1<\/strong> \u2264 sum of <b>N<\/b> over all test cases  \u2264 <strong>3*10<sup>5<\/sup><\/strong><\/li>\n\t<li>\n\t\t<strong>1<\/strong> \u2264 <strong>a<sub>i<\/sub><\/strong><strong><strong>,\u00a0<\/strong>b<sub>i<\/sub><\/strong><strong><strong>,\u00a0<\/strong>c<sub>i\u00a0<\/sub><\/strong><strong>\u2264 10<sup>4<\/sup><\/strong><\/li>\n<\/ul>\n<h3>\n\tSubtasks<\/h3>\n<p>\n\tSubtask #1 (8 points):\n<ul>\n\t<li>\n\t\t<strong>N \u2264 10<sup>3<\/sup><\/strong>.<\/li>\n\t<li>\n\t\t<strong>1<\/strong> \u2264 sum of <b>N<\/b> over all test cases  \u2264 <strong>10<sup>4<\/sup><\/strong>.<\/li>\n<\/ul>\n<\/p>\n<p>\n\tSubtask #2: (13 points):\n<ul>\n\t<li>\n\t\t<strong>b<sub>i<\/sub> = a<sub>i<\/sub> + a<sub>i+1<\/sub><\/strong>.<\/li>\n\t<li>\n\t\t<strong>c<sub>i<\/sub> = a<sub>i<\/sub> + a<sub>i+1<\/sub> + a<sub>i+2<\/sub><\/strong>.<\/li>\n<\/ul>\n<\/p>\n<p>\n\tSubtask #3: (46 points):\n<ul>\n\t<li>\n\t\t<strong>c<sub>i<\/sub> = a<sub>i<\/sub> + a<sub>i+1<\/sub> + a<sub>i+2<\/sub><\/strong>.<\/li>\n<\/ul>\n<\/p>\n<p>\n\tSubtsak #4: (33 points): \n<ul>\n<li>Original constraints.<\/li>\n<\/ul>\n<\/p>\n<h3>\n\tExample<\/h3>\n<pre>\n<b>Input:<\/b>\n<tt>2\n4\n1 1 1\n1 1\n1\n5\n1 2 3 4\n2 3 4\n3 4<\/tt>\n\n<b>Output:<\/b>\n<tt>6\n31<\/tt><\/pre>\n\n<h3>Explanation<\/h3>\n<p><b>Example case 1<\/b>. In this test case the distance between the node <b>A<\/b> and the node <b>B<\/b> will be equal to one for all pairs <b>(A, B)<\/b>. So for all six pairs we get the distance <b>1<\/b> and the final sum <b>6<\/b>. <\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"4","source_sizelimit":"50000","problem_author":"r_64","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>r_64<\/span>","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"26-01-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/divide-and-conq'>\n                    divide-and-conq\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/geometry'>\n                    geometry\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/graph'>\n                    graph\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/march17'>\n                    march17\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/r_64'>\n                    r_64\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SUMDIS","user":{"username":null},"time":{"view_start_date":1489397400,"submit_start_date":1489397400,"visible_start_date":1489397400,"end_date":1735669800,"current":1493556860},"todo":false,"problem_status":"unattempted"}