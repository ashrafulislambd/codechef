
{"category_name":"hard","status":"success","problem_code":"POLYSTR","problem_name":"Polygon and String","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>You are given a list of $n$ points $p_0, p_1, ..., p_{n-1}$ in convex position (ie. all of the points are vertices of their convex hull), such that no three points are collinear and no two points have the same $x$ or $y$ coordinate, so for any $i,j$ we have $x_i \\not = x_j$ and $y_i \\not = y_j$ where $p_i = (x_i, y_i)$ and $p_j= (x_j, y_j)$.\n\nYou will be given a number of queries. Each query is a string $S = s_0 s_1 \\ldots s_{n-2}$ of length $n-1$ composed of only the letters $U$ and $D$. For each string, your task is to find a permutation of the points, $p_{\\sigma(0)}, p_{\\sigma(1)}, ..., p_{\\sigma(n-1)}$, such that for $i = 0, 1, ..., n-2 $ we have:\n\n- If the $s_i$ is a $U$ then y coordinate of $p_{\\sigma(i)}$ is less than the y coordinate of $p_{\\sigma(i+1)}$\n- If the $s_i$ is a $D$ then y coordinate of $p_{\\sigma(i)}$ is larger than the y coordinate of $p_{\\sigma(i+1)}$\n\nFurthermore, we require that the line segments $\\overline{p_{\\sigma(i)} p_{\\sigma(i+1)}}$ for $i = 0, 1, ..., n-2$ intersect with each other only at their end points (if at all).\n\nIt is guaranteed that such a permutation exists. If there are multiple solutions, you can output any one.\n\nNote: The vertices in the input are not guaranteed to be in any particular order.\n\n### Input\n- The first line of the input consists of two integers $n$ and $m$, the number of points and the number of queries respectively.\n- The next $n$ lines contain pairs of space separated integers, corresponding to the $x$ and $y$ coordinate of the point.\n- The next $m$ lines contain the queries, which are strings of length $n-1$.\n\n### Output\nFor each query, print out on a new line the permutation $\\sigma(0), \\sigma(1), ..., \\sigma(n-1)$ as a list of space separated integers.\n\n###Constraints\n- $3 \\le n \\le 5000$\n- $1 \\le n \\cdot m \\le 10000$\n- $0 \\le x, y \\le 10^7$\n\n### Example Input\n```\n3 2\n2 2\n3 4\n1 1\nUU\nUD\n```\n\n### Example Output\n```\n2 0 1\n2 1 0\n```\n\n###Explanation\n**Testcase 1:** The outputted permutation corresponds to this:\n\n![Initial](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/TST18GWR\/POLYSTR\/1.png =375x375)\n\n**Testcase 2:** The outputted permutation corresponds to this:\n\n![Initial](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/TST18GWR\/POLYSTR\/2.png =375x375)\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"admin2","problem_author_html_handle":"admin2","problem_tester":null,"problem_tester_html_handle":"","date_added":"15-12-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/admin2'>admin2<\/a>","time":{"view_start_date":1545157800,"submit_start_date":1545157800,"visible_start_date":1545157800,"end_date":1735669800,"current":1559472992},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}