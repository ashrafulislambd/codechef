{"category_name":"hard","status":"success","problem_code":"CHEFC","problem_name":"Chef and medium problem ","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME16\/mandarin\/CHEFC.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME16\/russian\/CHEFC.pdf\">Russian<\/a>.<\/h3>\n<p>Chef has an array. The size of the array is equal to <b>N<\/b>.<br \/>\nChef wants to make <b>M<\/b> queries. Each query has one of the two types:<\/p>\n<p><ul>\n<li><b>1 l r<\/b> - Calculate some interesting function <b>F<\/b> for subarray indexed from <b>l<\/b> to <b>r<\/b> inclusive.\n<\/li><li><b>2 l r<\/b> - Modify the given array by removing all elements having indices in range from <b>l<\/b> to <b>r<\/b> and then putting these numbers at the beginning of<br \/>\narray. Order of all other elements remains same.\n<\/li><\/ul>\n<\/p>\n<p>For example: you have array [1, 2, 3, 4, 5, 6, 7, 8] and query (2 4 6), the modified array after the operation will look like [4, 5, 6, 1, 2, 3, 7, 8].<br \/>\nAll queries that goes after this query have to be executed at new the array. <\/p>\n<p>Now let us define the interesting function <b>F<\/b> :). <br \/>\nLets call this array <b>B<\/b>. Let <b>|B|<\/b> be the length of array <b>B<\/b>. Assume that <b>B<\/b> is having 1 based indexing.<br \/>\nThen the function <b>F<\/b> can be calculated by following code.<\/p>\n<p>\n<code><\/code><\/p>\n<pre>\nX = 1;\nfor (i = 2; i &lt;= |B|; i++)\n    if (B[i] != B[i - 1])\n        X++;\nX is the output of the function F(B).\n<\/pre><p>\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/p>\n<p>The first line of each test case contains a single integer <b>N<\/b> denoting the number of the elements in given array.<\/p>\n<p>Next line contains <b>N<\/b> numbers denoting the elements of given array.<\/p>\n<p>Third line contains a single integer <b>M<\/b> denoting the number of queries that Chef wants to execute.<\/p>\n<p>Each of the next <b>M<\/b> lines describes a single query in the format given in the statement.<\/p>\n<h3>Output<\/h3>\n<p>For each query of the first type output a single line containing a single integer - the answer for this query.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 3<\/li>\n<li>1 \u2264 <b>A<sub>i<\/sub><\/b> \u2264 10<sup>9<\/sup><\/li>\n<li>1 \u2264 <b>l<\/b> \u2264 <b>r<\/b> \u2264 <b>N<\/b><\/li>\n<li>Subtask 1 (15 points): 1 \u2264 <b>N<\/b> \u2264 100, 1 \u2264 <b>M<\/b> \u2264 1000<\/li>\n<li>Subtask 2 (25 points): 1 \u2264 <b>N<\/b>, <b>M<\/b> \u2264 10<sup>5<\/sup>, there is no query with type 2<\/li>\n<li>Subtask 3 (60 points): 1 \u2264 <b>N<\/b>, <b>M<\/b> \u2264 10<sup>5<\/sup><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n1\n5\n1 1 2 1 3\n5\n1 1 5\n1 2 4\n2 2 3\n1 1 5\n2 3 3\n\n<b>Output:<\/b>\n4\n3\n4\n<\/pre>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2","source_sizelimit":"50000","problem_author":"furko","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>furko<\/span>","problem_tester":"stzgd","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>stzgd<\/span>","date_added":"17-09-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/furko'>\n                    furko\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime16'>\n                    ltime16\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/substring'>\n                    substring\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/treaps'>\n                    treaps\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/CHEFC","user":{"username":null},"time":{"view_start_date":1411893000,"submit_start_date":1411893000,"visible_start_date":1411893000,"end_date":1735669800,"current":1493556634},"todo":false,"problem_status":"unattempted"}