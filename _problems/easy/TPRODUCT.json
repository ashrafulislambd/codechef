{"body":"\n<h3> All submissions for this problem are available. <\/h3><p>Given a complete binary tree with the height of H, we index the nodes respectively top-down and left-right from 1. The i-th node stores a positive integer V<sub>i<\/sub>. Define P<sub>i<\/sub> as follows: P<sub>i<\/sub>=V<sub>i<\/sub> if the i-th node is a leaf, otherwise P<sub>i<\/sub>=max(V<sub>i<\/sub>*P<sub>L<\/sub>, V<sub>i<\/sub>*P<sub>R<\/sub>), where L and R are the indices of the left and right children of i, respectively. Your task is to caculate the value of P<sub>1<\/sub>.\n<\/p>\n\n<h3>Input<\/h3>\n<p>There are several test cases (fifteen at most), each formed as follows:\n<ul>\n<li>The first line contains a positive integer H (H \u2264 15).<\/li>\n<li>The second line contains 2<sup>H<\/sup>-1 positive integers (each having a value of 10<sup>9<\/sup> at most), the i-th integer shows the value of V<sub>i<\/sub>.<\/li>\n<\/ul>\nThe input is ended with H = 0.\n<\/p>\n\n<h3>Output<\/h3>\n<p>For each test case, output on a line an integer which is the respective value of P<sub>1<\/sub> found, by modulo of 1,000,000,007.\n<\/p>\n\n<h3>Example<\/h3>\n\n<pre>\n<b>Input:<\/b>\n2\n1 2 3\n3\n3 1 5 2 6 4 7\n0\n\n<b>Output:<\/b>\n3\n105\n\n<\/pre>\n\nExplanation:<br \/>\nThe second test case is constructed as follows:\n<pre><code>\n     3\n    \/ \\\n   \/   \\\n  1     5\n \/ \\   \/ \\\n2   6 4   7\n<\/code><\/pre>    ","languages_supported":"NA","title":"TPRODUCT","category":"NA","old_version":true,"problem_code":"TPRODUCT"}