{"category_name":"easy","status":"success","problem_code":"RECRECOV","problem_name":"Receipt Recovery","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/NOV15\/mandarin\/RECRECOV.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/NOV15\/russian\/RECRECOV.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/NOV15\/vietnamese\/RECRECOV.pdf\">Vietnamese<\/a> as well.<\/h3>\n<p>While vacationing in Egypt, Chef found a recipe of an ancient dish. The receipt is a sequence of hieroglyphs written on a magic paper - it survived for thousands of years! The sequence is written on a long scroll. Unfortunately, the scroll is split into pieces, and possibly, some pieces of the scroll are missing. Chef has a total of <b>N<\/b> pieces, numbered for convenience from <b>1<\/b> to <b>N<\/b>. He gave the pieces of a tape to his friend who studies hieroglyphs for analysis. Chef was happy to hear that there are some relations between the pieces. Some of the pieces may follow other pieces.<\/p>\n<p>The informations about these relations is given as a list of <b>M<\/b> pairs (<b>A<sub>i<\/sub><\/b>, <b>B<sub>i<\/sub><\/b>). Such a pair means that the <b>A<sub>i<\/sub><\/b><sup>th<\/sup> piece can be immediately followed by the <b>B<sub>i<\/sub><\/b><sup>th<\/sup> one.<\/p>\n<p>Chef is working on recovering the recipe to prepare this dish for his Egyptian friends. He wants to place all the pieces into lines such that any pair of consecutive pieces (<b>L<\/b>, <b>R<\/b>) in a line must be explicitly allowed by one of the <b>M<\/b> rules described above. In other words, for some <b>i<\/b> (1 \u2264 <b>i<\/b> \u2264 <b>M<\/b>), (<b>A<sub>i<\/sub><\/b>, <b>B<sub>i<\/sub><\/b>) = (<b>L<\/b>, <b>R<\/b>). It appears that in general, not all the pieces can be placed in a single line while following the rules. So, please help Chef find what is the minimum number of lines required for all the pieces to be placed acoording to the rules.<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/p>\n<p>The first line of each test case contains two space-separated integers <b>N<\/b> and <b>M<\/b> denoting the number of pieces and number of relations of those <b>N<\/b> pieces. Next <b>M<\/b> lines contain two space-separated integers <b>A<\/b> and <b>B<\/b> denoting that piece number <b>A<\/b> can be followed by piece number <b>B<\/b>, all those pairs are guaraneed to be unique within a test case.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing the minimum number of lines required for all the pieces to be placed acoording to the rules.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>20<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>100<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>N<sup>2<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>A<sub>i<\/sub><\/b> \u2264 <b>N<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>B<sub>i<\/sub><\/b> \u2264 <b>N<\/b><\/li>\n<li>There is no sequence <b>S<sub>1<\/sub><\/b>, <b>S<sub>2<\/sub><\/b>, ..., <b>S<sub>k<\/sub><\/b> such that the piece <b>S<sub>i<\/sub><\/b> can be immediately followed by the piece <b>S<sub>i+1<\/sub><\/b> for all <b>i<\/b> from <b>1<\/b> to <b>k-1<\/b>, and that piece <b>S<sub>k<\/sub><\/b> can be followed by piece <b>S<sub>1<\/sub><\/b>.<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n3\n3 3\n1 2\n2 3\n1 3\n3 2\n1 2\n1 3\n5 4\n1 3\n2 3\n3 4\n2 5\n\n<b>Output:<\/b>\n1\n2\n2\n<\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"cenadar","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>cenadar<\/span>","problem_tester":"iscsi","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>iscsi<\/span>","date_added":"23-07-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cenadar'>\n                    cenadar\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>\n                    easy-medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/maxflow'>\n                    maxflow\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/maximum-flow'>\n                    maximum-flow\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/nov15'>\n                    nov15\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/RECRECOV","user":{"username":null},"time":{"view_start_date":1447666200,"submit_start_date":1447666200,"visible_start_date":1447666200,"end_date":1735669800,"current":1493558180},"todo":false,"problem_status":"unattempted"}