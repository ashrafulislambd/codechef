
{"category_name":"easy","status":"success","problem_code":"PERIODIC","problem_name":"Chef and Periodic Sequence","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/S191ATST\/hindi\/PERIODIC.pdf), [Mandarin chinese](http:\/\/www.codechef.com\/download\/translated\/S191ATST\/mandarin\/PERIODIC.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/S191ATST\/russian\/PERIODIC.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/S191ATST\/vietnamese\/PERIODIC.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/S191ATST\/bengali\/PERIODIC.pdf) as well.\n\nLet's define a periodic infinite sequence $S$ ($0$-indexed) with period $K$ using the formula $S_i = (i \\% K) + 1$.\n\nChef has found a sequence of positive integers $A$ with length $N$ buried underground. He suspects that it is a contiguous subsequence of some periodic sequence. Unfortunately, some elements of $A$ are unreadable. Can you tell Chef the longest possible period $K$ of an infinite periodic sequence which contains $A$ (after suitably filling in the unreadable elements) as a contiguous subsequence?\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains a single integer $N$. \n- The second line contains $N$ space-separated integers $A_1, A_2, \\dots, A_N$. Unreadable elements are denoted by $-1$.\n\n### Output\nFor each test case, print a single line.\n- If the period can be arbitrarily large, this line should contain a single string `\"inf\"`.\n- Otherwise, if $A$ cannot be a contiguous subsequence of a periodic sequence, it should contain a single string `\"impossible\"`.\n- Otherwise, it should contain a single integer \u2014 the maximum possible period.\n\n### Constraints \n- $1 \\le T \\le 100$\n- $2 \\le N \\le 10^5$\n- the sum of $N$ over all test cases does not exceed $10^6$\n- for each valid $i$, $1 \\le A_i \\le 10^6$ or $A_i = -1$\n\n### Subtasks\n**Subtask #1 (50 points):**\n- $2 \\le N \\le 1,000$\n- the sum of $N$ over all test cases does not exceed $10,000$\n\n**Subtask #2 (50 points):** original constraints\n\n### Example Input\n```\n3\n3\n-1 -1 -1\n5\n1 -1 -1 4 1\n4\n4 6 7 -1\n```\n\n### Example Output\n```\ninf\n4\nimpossible\n```\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"kingofnumbers","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>kingofnumbers<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"18-10-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/gcd'>gcd<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kingofnumbers'>kingofnumbers<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/pattern'>pattern<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sequences'>sequences<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/snck1a19'>snck1a19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/PERIODIC","time":{"view_start_date":1540092600,"submit_start_date":1540092600,"visible_start_date":1540092600,"end_date":1735669800,"current":1559472954},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}