{"category_name":"easy","status":"success","problem_code":"ADDMUL","problem_name":"Addition and Multiplication","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a href=\"\/download\/translated\/JULY15\/mandarin\/ADDMUL.pdf\" target=\"_blank\">Mandarin Chinese <\/a> and <a href=\"\/download\/translated\/JULY15\/russian\/ADDMUL.pdf\" target=\"_blank\">Russian<\/a>.<\/h3>\r\n<p>You are given a one dimensional integer array <b>A<\/b> of length <b>N<\/b>. You need to maintain the array under <b>Q<\/b> queries of the following four types. Assume 1-based indexing and M = 10<sup>9<\/sup> + 7.<\/p>\r\n<p><b>Query 1<\/b> : 1 x y v <br \/><br \/> This implies adding v to array <b>A<\/b> to all the indices from x to y, i.e.,<br \/> <code><\/code><\/p>\r\n<pre>for (i = x; i &lt;= y; i++)\t\r\n\t<b>A<\/b><sub>i<\/sub> += v;\r\n\t<b>A<\/b><sub>i<\/sub> %= M; \r\n<\/pre>\r\n<p>\u00a0<\/p>\r\n<p><b>Query 2<\/b> : 2 x y v <br \/> This implies multiplying the scalar v with the array <b>A<\/b> for all the indices from x to y, i.e.,<br \/> <code><\/code><\/p>\r\n<pre>for (i = x; i &lt;= y; i++)\t\r\n        <b>A<\/b><sub>i<\/sub> *= v\r\n        <b>A<\/b><sub>i<\/sub> %= M\r\n<\/pre>\r\n<p>\u00a0<\/p>\r\n<p><b>Query 3<\/b> : 3 x y v <br \/> This implies initializing the array <b>A<\/b> at all the indices from x to y with the value v, i.e.,<br \/> <code><\/code><\/p>\r\n<pre>for (i = x; i &lt;= y; i++)\t\r\n\t<b>A<\/b><sub>i<\/sub> = v \r\n<\/pre>\r\n<p>\u00a0<\/p>\r\n<p><b>Query 4<\/b> : 4 x y<br \/><br \/> This is a report query which needs to find the sum of the values in <b>A<\/b> from x to y, i.e.,<br \/> <code><\/code><\/p>\r\n<pre>sum = 0;\r\nfor (i = x; i &lt;= y; i++)\r\n\tsum += <b>A<\/b><sub>i<\/sub>\r\n\tsum %= M\r\nOutput sum.\r\n<\/pre>\r\n<p>\u00a0<\/p>\r\n<p><b>Note:<\/b> a%b represents the remainder of a when divided by b.<\/p>\r\n<h3>Input<\/h3>\r\n<ul>\r\n<li>First line contains two space separated integers <b>N<\/b>, <b>Q<\/b>.<\/li>\r\n<li>Next line contains <b>N<\/b> space separated integers denoting the array <b>A<\/b>.<\/li>\r\n<li>Next <b>Q<\/b> lines contain queries which can be of any of the above four types.<\/li>\r\n<\/ul>\r\n<h3>Output<\/h3>\r\n<ul>\r\n<li>For each query of type 4, output a single integer corresponding to the answer in a single line.<\/li>\r\n<\/ul>\r\n<h3>Constraints<\/h3>\r\n<ul>\r\n<li>1 \u2264 <b>N<\/b> \u2264 10<sup>5<\/sup><\/li>\r\n<li>1 \u2264 <b>Q<\/b> \u2264 10<sup>5<\/sup><\/li>\r\n<li>1 \u2264 Initial value of <b>A<\/b><sub>i<\/sub> \u2264 10<sup>9<\/sup><\/li>\r\n<li>1 \u2264 <b>v<\/b> \u2264 10<sup>9<\/sup><\/li>\r\n<\/ul>\r\n<h3>Subtasks<\/h3>\r\n<ul>\r\n<li> <b>Subtask 1<\/b>: Queries are of type 1, 3 and 4. <b>Points - 5<\/b>.<\/li>\r\n<li> <b>Subtask 2<\/b>: Queries are of type 2, 3 and 4. <b>Points - 5<\/b>.<\/li>\r\n<li> <b>Subtask 3<\/b>: Queries are of type 1, 2 and 4. <b>Points - 30<\/b>.<\/li>\r\n<li> <b>Subtask 4<\/b>: All the queries are present. <b>Points - 60<\/b>.<\/li>\r\n<\/ul>\r\n<h3>Example<\/h3>\r\n<pre><b>Input:<\/b>\r\n4 4\r\n1 2 3 4\r\n4 1 4\r\n1 1 3 10\r\n2 2 4 2\r\n4 1 4\r\n\r\n<b>Output:<\/b>\r\n10\r\n69\r\n\r\n<\/pre>\r\n<h3>Explanation<\/h3>\r\n<p>Initial <b>A<\/b> : [1, 2, 3, 4]<br \/> Result of first query : 1 + 2 + 3 + 4 = 10<br \/> <b>A<\/b> after second query: [ 11, 12, 13, 4]<br \/> <b>A<\/b> after third query : [ 11, 24, 26, 8]<br \/> Result of fourth query : 11 + 24 + 26 + 8 = 69<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"devuy11","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>devuy11<\/span>","problem_tester":"mugurelionut","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>mugurelionut<\/span>","date_added":"6-05-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/devuy11'>\n                    devuy11\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/july15'>\n                    july15\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/lazypropagation'>\n                    lazypropagation\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>\n                    segment-tree\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/ADDMUL","user":{"username":null},"time":{"view_start_date":1436779800,"submit_start_date":1436779800,"visible_start_date":1436779800,"end_date":1735669800,"current":1493558103},"todo":false,"problem_status":"unattempted"}