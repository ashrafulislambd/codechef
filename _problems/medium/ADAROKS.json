
{"category_name":"medium","status":"success","problem_code":"ADAROKS","problem_name":"Ada Rooks","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/COOK102\/hindi\/ADAROKS.pdf), [Mandarin Chinese](http:\/\/www.codechef.com\/download\/translated\/COOK102\/mandarin\/ADAROKS.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/COOK102\/russian\/ADAROKS.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/COOK102\/vietnamese\/ADAROKS.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/COOK102\/bengali\/ADAROKS.pdf) as well.\n\nAfter successfully defending her title of World Chess Champion, Ada noticed that she is lacking in rook endgames.\n\nTo improve her endgame skills, Ada placed $K$ kings on a chessboard with $N$ rows and $M$ columns, and now she is calculating the minimum number of rooks she must place on the board to satisfy the following conditions:\n- No king is attacked by a rook.\n- The kings are isolated, i.e. no king can reach another king without passing through a square attacked by a rook or capturing a rook.\n\nHelp Ada check her answers.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two space-separated integers $N$ and $M$.\n- The next $N$ lines describe the chessboard. Each of these lines contains a string with length $M$ describing one row, where an empty square and a square containing a king are denoted by '.' and 'K' respectively.\n\n### Output\nFor each test case, print a single line containing one integer \u2015 the minimum required number of rooks, or $-1$ if it is impossible to place rooks in a way that satisfies all conditions.\n\n### Constraints \n- $1 \\le T \\le 1,024$\n- $1 \\le N, M \\le 1,024$\n- each string contains only characters '.' and 'K'\n- the sum of $N \\cdot M$ over all test cases does not exceed $1,024$\n\n### Example Input\n```\n1\n8 8\n........\n........\n..K.....\n......K.\n........\n........\n.K..K...\n........\n```\n\n### Example Output\n```\n1\n```\n\n### Explanation\n**Example case 1:** One possible position for the only necessary rook is depicted in the following image.\n\n![ ](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/CK102TST\/ADAROKS\/ADAROKS.png)\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"alei","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>alei<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"15-01-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/alei'>alei<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/bitmasking'>bitmasking<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/data-structure'>data-structure<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/intervals'>intervals<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sets'>sets<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ADAROKS","time":{"view_start_date":1548009002,"submit_start_date":1548009002,"visible_start_date":1548009002,"end_date":1735669800,"current":1559472966},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}