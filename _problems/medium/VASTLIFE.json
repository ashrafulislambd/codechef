
{"category_name":"medium","status":"success","problem_code":"VASTLIFE","problem_name":"Another Game of Life","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>In 1970, John Conway created a cellular automaton, the Game of Life.\n\nIn this problem we will consider a modified version of the Game of Life called VastoLorde's Game of Life, and we will be focusing on just one single second of change. \n\nSuppose you start with grid $A$ which has dimensions $H \\times W$. The top left cell being $A[1][1]$ and the bottom right cell being $A[H][W]$. Each cell $(i,j)$ of this grid is either \"dead\" or \"alive\". An alive cell is represented by 1 and a dead cell by 0. \n\nWhen Vasto clicks his fingers, this grid changes into a different grid, $B$. $B$'s dimensions are $(H-1) \\times (W-1)$. The state of the $(i,j)$-th cell of $B$ is determined by the following rule:\n\nConsider cells $A[i][j]$, $A[i+1][j]$, $A[i][j+1]$ and $A[i+1][j+1]$ i.e. the 2x2 block with $(i,j)$ at the top left corner. If exactly one diagonal of this 2x2 block is alive and the other two cells are dead, then the cell $B[i][j]$ will be alive. Otherwise, $B[i][j]$ will be dead. \n\nFormally, if either ($A[i][j] = 1, A[i+1][j+1] = 1, A[i+1][j] = 0, A[i][j+1] = 0$), or ($A[i][j] = 0, A[i+1][j+1] = 0, A[i+1][j] = 1, A[i][j+1] = 1$), then $B[i][j] = 1$. If neither of these two configurations are present, then $B[i][j] =0$.\n\nFor example, suppose $H=3$, $W=3$, and grid $A$ is\n\n```\n101  \n011  \n101  \n```\nThis would change into the the following 2 x 2 $B$ grid:\n\n```\n10  \n10  \n```\n\nYour task is, given grid $B$, determine the number of possible grids $A$ that will generate this grid when Vasto clicks his finger.\n\nPrint your answer modulo $10^9 + 7$\n\n###Input:\n\n- The first line of input contains a single integer, $T$, the number of testcases.\n- The first line of each testcase contains two integers $W$ and $H$, the width and height of $B$. $H$ lines follow.\n- The $i$-th line of each testcase contains $W$ space separated integers $B[i][1], B[i][2], \\dots, B[i][W]$ such that the cell $B[i][j]$ of the grid is alive if $B[i][j]= 1$ and dead if $B[i][j] = 0$\n\n###Output:\nPrint a single integer in a new line for each testcase, the number of grids $A$ that create the given grid $B$ modulo $10^9 + 7$\n\n###Constraints \n\n- $1 \\le T \\le 10$\n- $2 \\le W \\le 500$  \n- $2 \\le H \\le 10$  \n- $ B[i][j] \\in \\{0,1\\}$  \n\n###Sample Input:\n```\n1  \n2 2  \n1 1  \n1 1  \n```\n\n###Sample Output:\n```\n2\n```\n\t\n###Explanation:\nThere are two 3x3 grids that $A$ could be, so that it changes into the 2x2 grid in the input. They are\n\n```\n101  \n010  \n101  \n\n```\n\nand\n```\n010  \n101  \n010\n```","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6","max_timelimit":"4","source_sizelimit":"50000","problem_author":"vastolorde95","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>vastolorde95<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"14-12-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/vastolorde95'>vastolorde95<\/a>","time":{"view_start_date":1544985000,"submit_start_date":1544985000,"visible_start_date":1544985000,"end_date":1735669800,"current":1559472986},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}