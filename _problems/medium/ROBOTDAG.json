{"category_name":"medium","status":"success","problem_code":"ROBOTDAG","problem_name":"Robots in a DAG","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/mandarin\/ROBOTDAG.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/russian\/ROBOTDAG.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/vietnamese\/ROBOTDAG.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>The annual Robotics Fest has started, and you have registered for an event in it, for which you have to build <b>K<\/b> robots and make them traverse a maze. The maze is in the form of a directed acyclic graph (DAG). That is, you can think that there is a graph with <b>N<\/b> vertices and <b>M<\/b> edges. Let the nodes be numbered from 1 to <b>N<\/b>. The edges are <b>E<sub>1<\/sub>, E<sub>2<\/sub><\/b>, ..., <b>E<sub>M<\/sub><\/b>, where <b>E<sub>i<\/sub><\/b> = (<b>u<sub>i<\/sub>, v<sub>i<\/sub><\/b>), denoting that a robot can travel from <b>u<sub>i<\/sub><\/b> to <b>v<sub>i<\/sub><\/b>.The robots start from node 1 and have to reach node <b>N<\/b>. The graph's edges do not form any directed cycles, and there are no self-loops or multiple edges.<\/p>\n\n<p>All the <b>K<\/b> robots travel at the speed of 1 edge per second, and all of them start at the same time. Once a robot reaches node <b>N<\/b>, it is taken out of the maze. But till then, a robot has to keep moving. That is, a robot cannot wait at any node. And since the maze's paths are narrow, at most one robot can traverse that edge in any given second.<\/p>\n\n<p>Formally, we can represent the i-th robot's trip using a series of edges: <b>E<sub>i1<\/sub>, E<sub>i2<\/sub>, .., E<sub>ix<\/sub><\/b>, where <b>E<sub>i1<\/sub><\/b> is an edge which goes out of node 1 and <b>E<sub>ix<\/sub><\/b> is an edge which goes into node <b>N<\/b>. For any i, j such that i \u2260 j, there should not be a t, such that <b>E<sub>it<\/sub> = E<sub>jt<\/sub><\/b>.<\/p>\n\n<p>The aim of the contest is to program your robots in such a manner that they travel obeying these constraints, and minimizing the maximum distance traveled by your robots. That is, consider the number of edges traveled by a robot, and take the maximum of this among all your <b>K<\/b> robots. This value should be minimized. Output this minimum value. And if it is not possible to program the robots according to the conditions, output -1 instead. <\/p>\n\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line contains a single integer, <b>T<\/b>, denoting the number of testcases. The description of each testcase follows.<\/li>\n<li>The first line of each testcase contains three integers: <b>N, M<\/b> and <b>K<\/b>, denoting the number of nodes, number of edges, and the number of robots respectively.<\/li>\n<li>The i-th of the next <b>M<\/b> lines contains two integers, <b>u<sub>i<\/sub><\/b> and <b>v<sub>i<\/sub><\/b>, denoting that there is an edge from <b>u<sub>i<\/sub><\/b> to <b>v<sub>i<\/sub><\/b>.<\/li>\n<\/ul>\n\n<h3>Output<\/h3>\n<ul>\n<li>For each testcase, output a single line containing a single integer which should be the minimum maximum distance traveled by the robots, or -1, if it is not possible to send all the <b>K<\/b> robots.<\/li>\n<\/ul>\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 5<\/li>\n<li>2 \u2264 <b>N<\/b> \u2264 100<\/li>\n<li>1 \u2264 <b>M, K<\/b> \u2264 1000<\/li>\n<li>1 \u2264 <b>u<sub>i<\/sub>, v<sub>i<\/sub><\/b> \u2264 <b>N<\/b><\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n3\n8 11 1\n1 2\n1 3\n1 4\n6 7\n2 5\n3 6\n3 2\n4 6\n5 7\n7 8\n2 7\n8 11 2\n1 2\n1 3\n1 4\n6 7\n2 5\n3 6\n3 2\n4 6\n5 7\n7 8\n2 7\n8 11 3\n1 2\n1 3\n1 4\n6 7\n2 5\n3 6\n3 2\n4 6\n5 7\n7 8\n2 7\n\n<b>Output:<\/b>\n3\n4\n5\n<\/pre>\n\n<h3>Explanation<\/h3>\n<p>The graphs in all the three testcases are the same. Only the number of robots change.<\/p>\n\n<p><b>Test Case 1:<\/b> There is only one robot, and it can take this sequence of edges: (1, 2), (2, 7), (7, 8). The maximum distance traveled among all the robot(s) is 3, and hence the answer is 3. This cannot be lowered.<\/p>\n\n<p><b>Test Case 2:<\/b> There are two robots, and one optimal solution is to make the first robot take this path: (1, 2), (2, 7), (7, 8) and make the second robot take this path: (1, 3), (3, 6), (6, 7), (7, 8). Note that the edge (7, 8) was traversed by both robots, but one did it at the third second, and the other at the fourth second, and hence it is allowed. The distances traveled by the robots are 3 and 4, and the maximum among that is 4. This cannot be lowered, and hence the answer is 4.<\/p>\n\n<p><b>Test Case 3:<\/b> There are three robots, and one optimal solution is to make the first robot take this path: (1, 2), (2, 7), (7, 8), make the second robot take this path: (1, 4), (4, 6), (6, 7), (7, 8) and make the third robot take this path: (1, 3), (3, 2), (2, 5), (5, 7), (7, 8). Note that the edge (7, 8) was traversed by all three robots, but one did it at the third second, one did it at the fourth second, and the other at the fifth second, and hence it is allowed. The distances traveled by the robots are 3, 4, and 5, and the maximum among them is 5. This cannot be lowered, and hence the answer is 5.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"admin3","problem_author_html_handle":"admin3","problem_tester":null,"problem_tester_html_handle":"","date_added":"2-06-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/admin3'>\n                    admin3\n                <\/a>","user":{"username":null},"time":{"view_start_date":1496516400,"submit_start_date":1496516400,"visible_start_date":1496516400,"end_date":1735669800,"current":1497284439},"todo":false,"problem_status":"unattempted"}