{"category_name":"medium","status":"success","problem_code":"QSET","problem_name":"Queries on the String","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JAN15\/mandarin\/QSET.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JAN15\/russian\/QSET.pdf\">Russian<\/a>.<\/h3>\n<p>You have a string of <b>N<\/b> decimal digits, denoted by numbers <b>A<sub>1<\/sub>,A<sub>2<\/sub>, ..., A<sub>N<\/sub><\/b>.\n<\/p>\n<p>Now you are given <b>M<\/b> queries, each of whom is of following two types.<br\/><\/br\/><\/p>\n<ul>\n<li>Type 1: <b>1 X Y<\/b>: Replace <b>A<sub>X<\/sub><\/b> by <b>Y<\/b>.<\/li>\n<li>Type 2: <b>2 C D<\/b>: Print the number of sub-strings divisible by 3 of the string denoted by <b>A<sub>C<\/sub>,A<sub>C+1<\/sub> ...<br \/>\nA<sub>D<\/sub><\/b>.<br \/>\n<br\/><br \/>\nFormally, you have to print the number of pairs <b>(i,j)<\/b> such that the string <b>A<sub>i<\/sub>,A<sub>i+1<\/sub>...A<sub>j<\/sub><\/b>,<br \/>\n<b>(C \u2264 i \u2264 j \u2264 D)<\/b>, when considered as a decimal number, is divisible by 3.\n<\/br\/><\/li>\n<\/ul>\n\n<h3>Input<\/h3>\n<ul>\n<li>There is only one test case.<\/li>\n<li>First line of input contains two space separated integers <b>N, M<\/b>.<\/li>\n<li>Next line contains a string of <b>N<\/b> digits, denoting string <b>A<\/b>.<\/li>\n<li>For next <b>M<\/b> lines, each line contains a query.<\/li>\n<li>Each query is given by three space separated integers.<\/li>\n<li>The first integer denotes type of the query. For each query of type 1, next two integers denote <b>X<sub>i<\/sub>, Y<sub>i<\/sub><\/b>.<br \/>\nFor each query of type 2, next two integers denote <b>C<sub>i<\/sub>, D<sub>i<\/sub><\/b>.\n<\/li>\n<\/ul>\n<h3>Output<\/h3>\n<p>For each query of type 2, print the required answer in a single line.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>0 \u2264 A<sub>i<\/sub> \u2264 9<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>X<sub>i<\/sub><\/b> \u2264 <b>N<\/b><\/li>\n<li><b>0<\/b> \u2264 <b>Y<sub>i<\/sub><\/b> \u2264 <b>9<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>C<sub>i<\/sub><\/b> \u2264 <b>D<sub>i<\/sub><\/b> \u2264 <b>N<\/b><\/li>\n<\/ul>\n<h3>Subtasks<\/h3>\n<ul>\n<li>Subtask #1 (10 points): <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>10<sup>3<\/sup><\/b> and only type 2 queries.<\/li>\n<li>Subtask #2 (15 points): <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>10<sup>3<\/sup><\/b><\/li>\n<li>Subtask #3 (20 points): <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>10<sup>5<\/sup><\/b> and only type 2 queries<\/li>\n<li>Subtask #4 (55 points): <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>10<sup>5<\/sup><\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n5 3\n01245\n2 1 3\n1 4 5\n2 3 5\n\n<b>Output:<\/b>\n3\n1\n<\/pre><h3>Explanation<\/h3>\n<p>\nFor first query, the sub-strings S[1,1]=\"0\", S[1,3]=\"012\" and S[2,3]=\"12\" are divisible by 3.<br \/>\nAfter second query, the string A becomes \"01255\".<br \/>\nFor third query, only sub-string S[3,5]=\"255\" is divisible by 3.\n<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"darkshadows","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>darkshadows<\/span>","problem_tester":"shiplu","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>shiplu<\/span>","date_added":"28-05-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/darkshadows'>\n                    darkshadows\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/jan15'>\n                    jan15\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/number-theory'>\n                    number-theory\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>\n                    segment-tree\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/QSET","user":{"username":null},"time":{"view_start_date":1421055000,"submit_start_date":1421055000,"visible_start_date":1421055000,"end_date":1735669800,"current":1493557868},"todo":false,"problem_status":"unattempted"}