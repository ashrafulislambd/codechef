
{"category_name":"medium","status":"success","problem_code":"GUESSAGE","problem_name":"Guess My Age","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>### Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/COOK105\/hindi\/GUESSAGE.pdf), [Mandarin Chinese](http:\/\/www.codechef.com\/download\/translated\/COOK105\/mandarin\/GUESSAGE.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/COOK105\/russian\/GUESSAGE.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/COOK105\/vietnamese\/GUESSAGE.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/COOK105\/bengali\/GUESSAGE.pdf) as well.\n\nA group of $N$ people (numbered $1$ through $N$) claimed that Chef is only good at cooking, but nothing else. Chef wanted to prove them wrong, so he accepted a challenge from them to guess their ages.\n\nThe $N$ people gave Chef $M$ pieces of information to help him. Each piece of information is described by four integers $t$, $u$, $v$ and $c$ with the following meaning:\n- If $t = 1$, the $u$-th person is older than the $v$-th person by at least $c$ years.\n- If $t = 2$, the $u$-th person is **not** older than the $v$-th person by at least $c$ years.\n\nChef also knows that all the ages are integers (strangely, not necessarily positive integers) and that the age of person $1$ is zero.\n\nBefore Chef started thinking about the ages, he asked you to tell him whether it is even possible to determine the ages of all $N$ people uniquely using the information he has. Find out if it is possible and what the ages of these $N$ people are in that case.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two space-separated integers $N$ and $M$.\n- Each of the following $M$ lines contains four space-separated integers $t$, $u$, $v$ and $c$ describing one piece of information.\n\n### Output\nFor each test case:\n- If it is impossible to uniquely determine the ages of all the people, print a single line containing the string `\"NO\"` (without quotes).\n- Otherwise, print two lines.\n- The first of these lines should contain a single string `\"YES\"` (without quotes).\n- The second line should contain $N$ space-separated integers denoting the ages of people $1, 2, \\ldots, N$ respectively.\n\n### Constraints \n- $1 \\le T \\le 1,000$\n- $2 \\le N \\le 1,000$\n- $1 \\le M \\le 5,000$\n- $1 \\le t \\le 2$\n- $u \\neq v$\n- $1 \\le c \\le 10^9$\n- the sum of $N$ over all test cases does not exceed $10,000$\n- the sum of $M$ over all test cases does not exceed $50,000$\n\n### Example Input\n```\n3\n2 1\n1 1 2 5\n2 2\n1 2 1 6\n2 2 1 7\n2 2\n1 2 1 6\n2 2 1 6\n```\n\n### Example Output\n```\nNO\nYES\n0 6\nNO\n```\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, R, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"kingofnumbers","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>kingofnumbers<\/span>","problem_tester":null,"problem_tester_html_handle":null,"date_added":"20-04-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bellman-ford'>bellman-ford<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook105'>cook105<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cookoff'>cookoff<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kingofnumbers'>kingofnumbers<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/negative'>negative<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/shortest-path'>shortest-path<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/GUESSAGE","time":{"view_start_date":1555871402,"submit_start_date":1555871402,"visible_start_date":1555871402,"end_date":1735669800,"current":1559472974},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}