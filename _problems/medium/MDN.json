
{"category_name":"medium","status":"success","problem_code":"MDN","problem_name":"Median","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements [Mandarin](http:\/\/www.codechef.com\/download\/translated\/LTIME66\/mandarin\/MDN.pdf) , [Bengali](http:\/\/www.codechef.com\/download\/translated\/LTIME66\/bengali\/MDN.pdf) , [Hindi](http:\/\/www.codechef.com\/download\/translated\/LTIME66\/hindi\/MDN.pdf) , [Russian](http:\/\/www.codechef.com\/download\/translated\/LTIME66\/russian\/MDN.pdf) and [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/LTIME66\/vietnamese\/MDN.pdf) as well.\n\nYou are given an integer sequence $A_1, A_2, \\dots, A_N$ and integers $K$ and $M$. For $1 \\le i \\le j \\le N$, let's define $S(i, j)$ as the number of ways to choose exactly $K$ elements of the contiguous subsequence $A_i, A_{i+1}, \\dots, A_j$ in such a way that the median of these $K$ elements is $\\ge M$.\n\nFind the sum of $S(i, j)$ over all $i, j$ such that $1 \\le i \\le j \\le N$. Since this sum may be large, calculate it modulo $10^9+7$.\n\n### Input\n- The first line of the input contains three space-separated integers $N$, $K$ and $M$.\n- The second line contains $N$ space-separated integers $A_1, A_2, \\dots, A_N$.\n\n### Output\nPrint a single line containing one integer \u2014 $\\sum_{i=1}^N \\sum_{j=i}^N S(i, j)$ modulo $10^9+7$.\n\n### Constraints \n- $1 \\le N \\le 10^5$\n- $3 \\le K \\le 100$\n- $K$ is an odd number\n- $1 \\le M \\le 200$\n- $1 \\le A_i \\le 10^9$ for each valid $i$\n- all elements of $A$ are pairwise distinct\n\n### Subtasks\n**Subtask #1 (30 points):**\n- $1 \\le N \\le 80$\n- $3 \\le K \\le 80$\n\n**Subtask #2 (70 points):** original constraints\n\n### Example Input\n```\n4 3 2\n1 2 3 4\n```\n\n### Example Output\n```\n6\n```\n\t\n### Explanation\n$S(1,1) = S(1,2) = S(2,2) = S(2,3) = S(3,3) = S(3,4) = S(4,4) = 0$, $S(1,3) = S(2,4) = 1$ and $S(1,4) = 4$.\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"2","source_sizelimit":"50000","problem_author":"nots0fast","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>nots0fast<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"21-11-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/nots0fast'>nots0fast<\/a>","time":{"view_start_date":1543078801,"submit_start_date":1543078801,"visible_start_date":1543078801,"end_date":1735669800,"current":1559472977},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}