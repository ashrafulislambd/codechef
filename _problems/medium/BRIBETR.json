{"category_name":"medium","status":"success","problem_code":"BRIBETR","problem_name":"Bear and Bribing Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME45\/mandarin\/BRIBETR.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME45\/russian\/BRIBETR.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME45\/vietnamese\/BRIBETR.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>Limak is a big grizzly bear who loves wrestling.\nHe is going to participate in a coming tournament.<\/p>\n\n<p>There will be N = 2<b><sup>H<\/sup><\/b> bears participating in the tournament.\nBears are numbered 1 through N and Limak has index 1.\nEach bear has a unique value <b>x<\/b><sub>i<\/sub> representing his or her strength.\nThe tournament is divided into <b>H<\/b> stages.\nIn each stage bears are divided into pairs according to their indices (more info in the next paragraph).\nIn each pair, the two bears fight with each other and one of them wins (there are no draws).\nThe loser is eliminated, while the winner advances to the next stage.<\/p>\n\n<p>In each stage, the remaining bears are sorted by their initial index.\nThen, the first two bears are in one pair, next two are in the second pair, and so on.\nSo in the first stage there are N\/2 matches: one between bear 1 and bear 2, one between bear 3 and bear 4, and so on (the last match between bear N-1 and bear N).\nIn the second stage, the winner of the fight between bear 1 and bear 2, will fight against the winner of the fight between bear 3 and bear 4, and so on.<\/p>\n\n<p>Usually, when two bears fight with each other, the one with greater strength wins.\nBut grizzly bears aren't always honest and fair.\nIn each match (no matter if he fights in it or not), Limak can bribe the referee and change the winner of this match.\nTo avoid suspicion, he can do it only if the difference between strengths of the two bears doesn't exceed <b>K<\/b>.<\/p>\n\n<p>For example, let's say that <b>K<\/b> = 10.\nIf two bears with strength 70 and 85 fight with each other, the one with strength 85 must win.\nBut if their strengths are 70 and 78 (or e.g. 70 and 80), Limak can bribe the referee and then the bear with strength 70 wins \u2014 but obviously Limak doesn't have to bribe the referee and then the bear with greater strength automatically wins.<\/p>\n\n<p>What is the minimum number of times Limak has to bribe a referee, if he wants to win the tournament?\nOutput -1 if he can't win.<\/p>\n\n\n\n<h3>Input<\/h3>\n\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases.\nThe description of <b>T<\/b> test cases follows.<\/p>\n\n<p>The first line of each test case contains two integers <b>H<\/b> and <b>K<\/b> denoting the number of stages and the maximum allowed difference of strengths between bears for Limak to bribe the referee.\nNote that N = 2<sup><b>H<\/b><\/sup>.<\/p>\n\n<p>The second line of a test case contains N distinct integers: <b>x<\/b><sub>1<\/sub>, <b>x<\/b><sub>2<\/sub>, ..., <b>x<\/b><sub>N<\/sub>, where <b>x<\/b><sub>i<\/sub> denotes the strength of the i-th bear.\nLimak has index 1 so his strength is <b>x<\/b><sub>1<\/sub>.\n\n\n\n\n\n<h3>Output<\/h3>\n\n<p>For each test case, output a single line containing one integer \u2014 the minimum number of times Limak has to bribe a referee.\nIf he can't win the tournament, output -1 instead.<\/p>\n\n\n\n<h3>Constraints<\/h3>\n\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 3<\/li>\n<li>2 \u2264\u00a0<b>H<\/b> \u2264 17<\/li>\n<li>1 \u2264 <b>K<\/b> \u2264 10<sup>9<\/sup><\/li>\n<li>1 \u2264 <b>x<\/b><sub>i<\/sub> \u2264 10<sup>9<\/sup><\/li>\n<li><b>x<\/b><sub>i<\/sub> \u2260 <b>x<\/b><sub>j<\/sub> for i \u2260 j\n<\/ul>\n\n\n\n<h3>Subtasks<\/h3>\n\n<ul>\n<li>Subtask #1 (25 points) 2 \u2264 <b>H<\/b> \u2264 10<\/li>\n<li>Subtask #2 (20 points) <b>K<\/b> = 10<sup>9<\/sup><\/li>\n<li>Subtask #3 (55 points) Original constraints<\/li>\n<\/ul>\n\n\n\n<h3>Example<\/h3>\n\n<pre><b>Input:<\/b>\n3\n2 10\n70 78 67 75\n3 10\n18 2 19 21 33 40 26 25\n2 7\n4 9 8 16\n\n<b>Output:<\/b>\n2\n4\n-1<\/pre>\n\n\n\n<h3>Explanation<\/h3>\n\n<p><b>Test case 1.<\/b> We are given <b>H<\/b> = 2 so there are N = 4 bears in the tournament.\nLimak has strength 70 and he first fights against a bear with strength 78.\nLimak must bribe this referee because he would lose otherwise.\nIn the other match of the first stage, bears with strengths 67 and 75 fight with each other.\nLimak can bribe the referee of that match too, so that the bear with strength 67 advances to the next stage, where Limak beats him without bribing the referee (because Limak's strength is greater).\nThe answer is 2 because Limak changes results of 2 matches, and you can verify that this is the minimum.<\/p>\n\n<p>One other optimal strategy is to allow the bear with strength 75 to win his first match.\nThen Limak fights with that bear in the second stage and he can bribe the referee to win.<\/p>\n\n<p><b>Test case 2.<\/b> Limak must bribe at least 4 referees.\nThe binary tree below shows how the tournament can look like.\nEach vertex with two children denotes one match (winner moves to the parent).\nRed vertices denote matches where Limak bribes the referee.<\/p>\n\n<object data=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/upload\/LTIME45\/9qhYjlA.png\" type=\"image\/svg+xml\" height=\"190\" width=\"320\">\n<\/object>\n\n<p><b>Test case 3.<\/b> Limak can bribe the referee to win his first match (against the bear with strength 9) but he will lose the next match against the bear with strength 16 (who must win his first match) because the difference between their strength 16 - 4 = 12 is greater than <b>K<\/b>.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"errichto","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>errichto<\/span>","problem_tester":"errichto","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>errichto<\/span>","date_added":"23-02-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/errichto'>\n                    errichto\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime45'>\n                    ltime45\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/two-pointers'>\n                    two-pointers\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/BRIBETR","user":{"username":null},"time":{"view_start_date":1488042300,"submit_start_date":1488042300,"visible_start_date":1488042300,"end_date":1735669800,"current":1493557491},"todo":false,"problem_status":"unattempted"}