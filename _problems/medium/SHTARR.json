{"category_name":"medium","status":"success","problem_code":"SHTARR","problem_name":"Shooting on the array","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>You have an array <b>A<\/b> of length <b>N<\/b> consisting of positive integers. Let's consider <b>N<\/b> vertical segments (parallel to y axis) on the plane, the i-th segment connects the points <b>(i, 0)<\/b> and <b>(i, A<sub>i<\/sub>)<\/b>.<\/p>\n\n<p>You have <b> Q <\/b> queries of following two types:\n<ul>\n<li><b>+ i X <\/b> : <b> A<sub>i<\/sub> += X <\/b> <\/li>\n<li><b>? i L R <\/b>: Let's consider <b>R - L+ 1<\/b> rays which are parallel to x axis. The <b>j<\/b>-th ray eminates at point <b>(i - 0.5, L+ j - 1.5)<\/b> and extends to the right infinitely long parallel to x axis. You have to print the number of the segments that will be shot by some ray. If a ray shoots a segment then it stops at that point and does't extend further. <\/li>\n<\/ul>\t\n <\/p>\n\n<p>Note that all the queries of the second type are independent of each other.<\/p>\n\n\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer  <b> T <\/b> denoting the number of tests <\/p>\n<p>The first line of each test case consists of two space separated integers <b> N, Q <\/b>.<\/p> \n<p>The second line contains <b>N<\/b> space separated denoting the array <b>A<\/b>.<\/p>\n<p>Next <b> Q <\/b> lines contain the description of the queries in the format above.<\/p>\n\n<h3>Output<\/h3>\n<p>After each query of the second type, output in a single line the number of segments that are shot.<\/p>\n\n\n<h3>Constraints<\/h3>\n<ul>\n<li> <b>1<\/b> \u2264  <b> T <\/b> \u2264 <b> 100 <\/b> <\/li>\n<li> <b> 1 <\/b>  \u2264 <b>N<\/b> \u2264 <b> 10<sup>6<\/sup> <\/b><\/li>\n<li> <b> 1 <\/b>  \u2264 <b>Q<\/b> \u2264 <b> 10<sup>5<\/sup> <\/b> <\/li>\n<li> <b> 0 <  X  \u2264 10,000 <\/b> <\/li> \n<li> <b> 1 <\/b>  \u2264 <b>i  <\/b> \u2264 <b> N <\/b> <\/li>\n<li> <b> 1 <\/b>  \u2264 <b> A<sub>i<\/sub> <\/b> \u2264 <b> 10<sup>9<\/sup> <\/b> <\/li>\n<li> <b> 1 <\/b>  \u2264 <b> L \u2264 R  <\/b> \u2264 <b> 10<sup>9<\/sup> <\/b> <\/li>\n<li> The sum of <b>N<\/b> over all testcases does not exceed 10<sup>6<\/sup> <\/li>\n<li> The sum of <b>Q<\/b> over all testcases does not exceed 10<sup>5<\/sup> <\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n<ul>\n<li><b>Subtask #1 (10 points)<\/b> : There are only queries of the second type<\/li> \n<li><b>Subtask #2 (10 points)<\/b> : In all queries of the second type <b>i = 1 <\/b> <\/li>\n<li><b>Subtask #3 (30 points)<\/b> :  The sum of <b>Q<\/b> over all testcases does not exceed 10<sup>4<\/li>\n<li><b>Subtask #4 (50 points)<\/b> :  Original constraints<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n1\n6 4\n3 7 2 4 8 7\n? 4 3 9 \n? 3 1 7\n+ 6 2\n? 4 3 9\n\n<b>Output:<\/b>\n2\n3\n3\n\n<\/pre>\n<p>\u00a0<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 6.3, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, kotlin, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.5, RUBY, rust, SCALA, SCM chicken, SCM guile, SCM qobi, ST, swift, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"altruist_","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>altruist_<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"13-08-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/altruist_'>\n                    altruist_\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/oct17'>\n                    oct17\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>\n                    segment-tree\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SHTARR","time":{"view_start_date":1508146200,"submit_start_date":1508146200,"visible_start_date":1508146200,"end_date":1735669800,"current":1514816024},"user":{"username":null},"todo":false,"problem_status":"unattempted"}