{"category_name":"medium","status":"success","problem_code":"UNFRIEND","problem_name":"Rebuilding Byteland","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p style=\"text-align:justify\">\nByteland is in the midst of a political crisis. The city is in almost a state of civil war among the two factions, \"Coders\", who rule the city -\nand \"non-Coders\" who believe they have been oppressed far too long. Chef - Byteland's President - has decided to restructure Byteland\nresidences such that Coders and non-Coders are forced to meet everyday!\n<\/p>\n<p style=\"text-align:justify\">\nByteland is a society of N houses - labeled 1 to N, connected by M bi-directional roads - labeled 1 to M. Each road starts at one of\nthe houses and ends at some other house. No two roads meet anywhere, unless of course, they are connecting the same house to other\nhouses. Chef wants to assign Coders and non-Coders among the houses, such that, when a Coder leaves his house on one of the roads,\nhe ends up at a non-Coder's house. Similarly, when a non-Coder leaves his house on one of the\nroads, he must also always end up at a Coder's house.\n<\/p>\n<p style=\"text-align:justify\">\nThe problem is, that under the current scheme of houses and roads, this might not be possible. Thus, Chef has decided to warp some\nof the roads to another dimension. Warping a road to another dimension, makes the two houses, say A and B, that the road connected -\nmerge into a single house, say C.  Roads that were connecting A to other houses are extended to C, and roads that were connecting B\nto other houses are also extended to C. A and B may be the same house after some sequence of warps. In this case, if the road is warped,\nit simply disappears.\n<\/p>\n<p style=\"text-align:justify\">\nIf it were up to Chef, he would warp every road in the City and create a Coder non-Coder paradise island; alas, he sometimes cannot do so.\nFor example, only a few roads may be available for warping, since the other roads are too long. Also, it may be possible that after warping some roads,\nsome road connects a house with itself. If such a road cannot be warped, it will be considered against Chef's wishes!\n<\/p>\n<p style=\"text-align:justify\">\nThe task of determining a strategy as to which roads to warp has come to you.\n<\/p>\n<p style=\"text-align:justify\">\nCan you tell if it is possible to warp some of the roads that can be warped to fulfil Chef's dream of being able to assign Coders and\nnon-Coders to houses, such that, every remaining road strictly connects a Coder's house and a non-Coder's house.\n<\/p>\n<p style=\"text-align:justify\">\nYou may assume that Byteland society is constructed in a way, such that, anyone can traverse from any house to any other house by using\nsome sequence of roads. Also initially, no two roads connect the same pair of houses.\n<\/p>\n<p style=\"text-align:justify\">\n<h3>Input<\/h3>\nThe first Line contains a single number T, the number of test cases.\n<\/p>\n<p style=\"text-align:justify\">\nThe first line of each case contains two numbers, N and M, respectively. The next M lines contain two numbers each, x and y. Both x and y\nare between 1 and N, inclusive. They describe a bi-directional road between house x and house y. The roads are labeled from 1 to M\nin the order in which they appear in the input.\n<\/p>\n<p style=\"text-align:justify\">\nThe next line contains a single number W, the number of roads that can be warped. The next line contains W unique numbers, separated by a\nsingle space. Each number is the label of a road that can be warped. All such numbers are unique and within 1 and M, inclusive.\n<\/p>\n<p style=\"text-align:justify\">\n<h3>Output<\/h3>\nPrint T lines, one for each test case. Output either \"YES\" if Chef's dream can be fulfilled, \"NO\" otherwise.\n<\/p>\n<p style=\"text-align:justify\">\n<h3>Constraints<\/h3>\n<pre>1 &le; T &le; 100\n2 &le; N &le; 50\n1 &le; M &le; 200\n1 &le; W &le; M\n<\/pre>\n<\/p>\n<p style=\"text-align:justify\">\n<h3>Sample Input<\/h3>\n<pre>2\n3 3\n1 2\n2 3\n3 1\n2\n1 2\n5 7\n1 3\n1 4\n3 4\n2 4\n2 5\n4 5\n1 2\n2\n2 4\n<\/pre>\n<\/p>\n<p style=\"text-align:justify\">\n<h3>Sample Output<\/h3>\n<pre>YES\nNO\n<\/pre>\n<\/p>\n<p style=\"text-align:justify\">\n<h3>Explanation<\/h3>\nIn the first Sample Input, warping either one of Road 1 or Road 2 is sufficient. In the second Sample Input, warping both of Road 1\nand Road 2 create a road that connects a house to itself and all other possibilities of warping roads are insufficient to fulfil Chef's dream.\n<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2","source_sizelimit":"50000","problem_author":"gamabunta","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #666666;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>1&#9733;<\/span><span>gamabunta<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"4-08-2012","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/colouring'>\n                    colouring\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook25'>\n                    cook25\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/gamabunta'>\n                    gamabunta\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/gauss-elim'>\n                    gauss-elim\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/graph'>\n                    graph\n                <\/a>","user":{"username":null},"time":{"view_start_date":1345403134,"submit_start_date":1345403134,"visible_start_date":1345402200,"end_date":1735669800,"current":1493557952},"todo":false,"problem_status":"unattempted"}