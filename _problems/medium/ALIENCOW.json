
{"category_name":"medium","status":"success","problem_code":"ALIENCOW","problem_name":"Chef and Alien Invasion","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>Chef has a rectangular field of dimensions $N \\times M$ which contains grass all over it.  $(0,0)$ is made the bottom left corner of the field. $(N, M)$ is made the top right corner of the field.\n\nAliens aim to destroy the field by sending a cow on the field which will eat all the grass.\n\nChef, in order to protect the field constructs $K$ rectangular electric fences. \n\nAn electric fence is represented by $x_1\\space  y_1\\space x_2\\space y_2$. This denotes an electric fence along the perimeter of the rectangle with bottom left corner as $(x_1, y_1)$ and top right corner as $(x_2, y_2)$. The fences can touch or intersect with each other.\n\nThe aliens will send the cow to a point $P$ on the field. From that point $P$ the cow will graze all the grass it can reach. The cow is intelligent enough to know that electric fence can kill it. Therefore it will never touch or cross an electric fence. Also the cow will never leave the field.\n\nThe aliens can't see the fences from above and thus will send the cow to any point $(x, y)$ (not necessarily integer point) selected uniformly at random on the field. $(0 \\le x \\le N, 0 \\le y \\le M)$\n\nChef asks you to calculate the expected area of grass lost due to this alien invasion. Since the Chef doesn't like floating point numbers he wants you to tell the value of $P \\times Q^{-1} \\space mod \\space 10^9+7$. Here $\\frac{P}{Q} = $ expected grass area destroyed with $gcd(P,Q)=1$. Also \n$Q^{-1}$ is the modular multiplicative inverse of $Q$ with respect to $10^9+7$.\n\n###Input:\n\n- First line will contain $T$, number of testcases. Then the testcases follow. \n- Each testcase three integers $N, M, K$ denoting the dimensions of field and the number of rectangular electric fences. Then $K$ lines follow.\n- Each line contains $4$ integers $x_1\\space  y_1\\space x_2\\space y_2$ denoting the electric fence.\n\n###Output:\nFor each testcase, output in a single line answer to the problem.\n\n###Constraints \n- $1 \\leq T \\leq 10$\n- $1 \\le N,M \\le 10^9$\n- $0 \\le x_1 \\le x_2 \\le N$\n- $0 \\le y_1 \\le  y_2 \\le M$\n- $0 \\le K \\le 20$\n\n###Sample Input:\n```\n2\n10 10 4\n0 0 5 5\n5 5 10 10\n0 5 5 10\n5 0 10 5\n9 9 2\n0 0 9 6\n0 3 9 9\n```\n\n###Sample Output:\n```\n25\n27\n```\n\t\n###EXPLANATION:\n**Testcase 1**: The Chef divides the whole field into $4$ equal parts. Therefore $\\frac{1}{4}^{th}$ of the field will be grazed by the cow wherever the cow lands. Expected area lost = $\\frac{10\\times 10}{4} = 25$.\n\n**Testcase 2**: The Chef using 2 fences divides the whole field into $3$ equal parts. Therefore $\\frac{1}{3}^{th}$ of the field will be grazed by the cow wherever the cow lands. Expected area lost = $\\frac{9\\times 9}{3} = 27$\n\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"2","source_sizelimit":"50000","problem_author":"usaxena95","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>usaxena95<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"21-12-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/usaxena95'>usaxena95<\/a>","time":{"view_start_date":1545503400,"submit_start_date":1545503400,"visible_start_date":1545503400,"end_date":1735669800,"current":1559472967},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}