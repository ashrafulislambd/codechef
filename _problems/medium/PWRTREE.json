
{"category_name":"medium","status":"success","problem_code":"PWRTREE","problem_name":"Power Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/COOK99\/hindi\/PWRTREE.pdf), [Spanish](http:\/\/www.codechef.com\/download\/translated\/COOK99\/spanish\/PWRTREE.pdf), [Mandarin chinese](http:\/\/www.codechef.com\/download\/translated\/COOK99\/mandarin\/PWRTREE.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/COOK99\/russian\/PWRTREE.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/COOK99\/vietnamese\/PWRTREE.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/COOK99\/bengali\/PWRTREE.pdf) as well.\n\nAda is one of the best hairdressers in ChefLand. She invented a very cool hair style and named it \"power tree\".\n\nA power tree with degree $l$ \u2014 let's denote it by $PT(l)$ \u2014 is a directed graph, which can be constructed recursively as follows:\n- $PT(0)$ consists of a single node.\n- For $l \\gt 0$:\n    - Create one node $u$ \u2014 the *root* of power tree $PT(l)$.\n    - Construct all power trees with smaller degrees, i.e. $PT(0), PT(1), \\dots, PT(l-1)$.\n    - For each of the tree created in the previous step, add a directed edge from $u$ to its root.\n\nToday, Ada is going to cut the hair of some customers. Of course, all of them want to have a power tree hair style!\n\nA customer's uncut hair is represented by a directed graph with $N$ vertices (numbered $1$ through $N$) and exactly one edge between each pair of vertices. Ada should remove some edges (possibly none) from this graph in such a way that the resulting graph is a power tree. Note that she is not allowed to remove vertices!\n\nCan you help Ada find the edges she should remove?\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains a single integer $N$.\n- Each of the next $N \\choose 2$ lines contains two space-separated integers $u$ and $v$ describing a directed edge from vertex $u$ to vertex $v$. The edges are numbered $1$ through $N \\choose 2$ in this order.\n\n### Output\nFor each test case:\n- If it is impossible to create a power tree, print a single line containing one integer $-1$.\n- Otherwise, print two lines. The first of these lines should contain a single integer $e$ denoting the number of edges to remove. The second line should contain $e$ space-separated integers denoting the numbers of the edges to remove.\n\nIf there are multiple answers, you may print any one.\n\n### Constraints \n- $1 \\le T \\le 128$\n- $2 \\le N \\le 256$\n- $1 \\le u, v \\le N$\n- there is exactly one edge between each pair of vertices\n\n### Example Input\n```\n1\n4\n1 4\n2 1\n2 4\n3 1\n3 2\n3 4\n```\n\n### Example Output\n```\n3\n1 3 4\n```\n\t\n### Explanation\n**Example case 1:** Ada should remove edges $(1, 4)$, $(2, 4)$ and $(3, 1)$. The resulting graph is a power tree with degree $l=2$.\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"alei","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>alei<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"1-09-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/alei'>alei<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/constructive'>constructive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook99'>cook99<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/directed'>directed<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tree'>tree<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/PWRTREE","time":{"view_start_date":1540146602,"submit_start_date":1540146602,"visible_start_date":1540146602,"end_date":1735669800,"current":1559472981},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}