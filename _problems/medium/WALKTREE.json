
{"category_name":"medium","status":"success","problem_code":"WALKTREE","problem_name":"Not So Random Walks","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>Chef found a rooted tree with $N$  nodes. The nodes are labelled from $1$ to $N$. Node with label $1$ was marked as the root.\n\n$R$ is the adjacency list representing the tree, which includes only children, but not the parent of every node. Denote $K(i)$ as the number of children of $i^{th}$ node. Denote $R(i, j)$ as the $j^{th}$ child of the $i^{th}$ node ( $0 \\leq j \\lt K(i)$).\n\nChef also found the piece of code lying below the tree.\n\n```\nvoid dfs(v, iter) {\n  if (visit[v] == 0)\n    visit[v] = iter;\n  if (K(v) != 0) {\n    special_child = R(v, F(v));\n    dfs(special_child, iter);\n    F(v) = (F(v) + 1) % K(v);\n  }\n}\n\ninitialize F(i) = 0;\ninitialize visit[i] = 0;\ndone = false;\niter = 0;\n\nwhile (!done) {\n  iter = iter + 1;\n  dfs(1, iter);\n  done = true;\n  for (i = 1; i <= N; ++i)\n    if (visit[i] == 0)\n      done = false;\n}\n```\n\nChef is really excited to see this code and wants to know what is the value of the $visit$ array once this code is executed.\n\nSince the values of the array can be large, print all the integers $mod \\space 10^9+7$.\n\n\n###Input:\n\n- First line will contain $T$, number of testcases. Then the testcases follow. \n- The first line of each test case contains a single integer $N$, the number of nodes in the tree.\n- $N$ lines follow. \n- First integer on the $i^{th}$ line denotes $K(i)$, the number of children of node $i$. $K(i)$ integers follow, $j^{th}$ of which denotes $R(i, j)$.\n\n###Output:\nFor each testcase, output in a single line $N$ space separated integers.\n\n###Constraints \n- $1 \\leq T \\leq 10^4$\n- $1 \\leq N \\leq 10^5$\n- Sum of $N$ over all testcases $\\leq 10^6$ \n- $0 \\leq K(i) \\leq 10^5$\n\n###Sample Input:\n    2\n    7\n    3 2 3 4\n    1 7\n    0\n    2 5 6\n    0\n    0\n    0\n    3\n    1 2\n    1 3\n    0\n\n\n###Sample Output:\n    1 1 2 3 3 6 1\n    1 1 1\n\t\n###EXPLANATION:\nFor test case 1:\n- Nodes visited in $1^{st}$ iteration: $1,2,7$.\u00a0\n- Nodes visited in $2^{nd}$ iteration: $1,3$.\u00a0\n- Nodes visited in $3^{rd}$ iteration: $1,4,5$.\n- Nodes visited in $4^{th}$ iteration: $1,2,7$.\u00a0\n- Nodes visited in $5^{th}$ iteration: $1,3$.\u00a0\n- Nodes visited in $6^{th}$ iteration: $1,4,6$.\u00a0\u00a0\n\nFor test case 2 all nodes are visited in the first iteration.","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"2","source_sizelimit":"50000","problem_author":"usaxena95","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>usaxena95<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"16-12-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/usaxena95'>usaxena95<\/a>","time":{"view_start_date":1545157800,"submit_start_date":1545157800,"visible_start_date":1545157800,"end_date":1735669800,"current":1559472986},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}