{"category_name":"medium","status":"success","problem_code":"LEBLOCKS","problem_name":"Little Elephant and Blocks","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JUNE14\/mandarin\/LEBLOCKS1.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JUNE14\/russian\/LEBLOCKS2.pdf\">Russian<\/a>.<\/h3>\n\n<p>Little Elephant from Zoo of Lviv has <b>n<\/b> (0-based numeration) blocks consisted of <b>1x1x1<\/b> cubes in such way that the size of <b>i-th<\/b> block is <b>1x1xA<sub>i<\/sub><\/b>. Each of the blocks also has a color, which is a positive integer. The color of <b>i-th<\/b> block is <b>C<sub>i<\/sub><\/b>. There will be no more than two blocks of the same color.\n\n<\/p><p>Little Elephant wants to stack the blocks in the stack. In order to do so, he choose some random permutation <b>P<\/b> of integers from <b>0<\/b> to <b>n-1<\/b>, inclusive, and stacks all the blocks in order of <b>P<\/b>, i. e. at first he stacks <b>P<sub>0<\/sub>-th<\/b> block, then <b>P<sub>1<\/sub>-th<\/b> and so on.\n\n<\/p><p>After stacking Little Elephant has a sequence of size <b>S<\/b> consisted of cubes (0-based numeration) in order from the stack, where <b>S = A<sub>0<\/sub> + A<sub>1<\/sub> + ... + A<sub>n-1<\/sub><\/b>. Then he counts the number of such pairs of cubes with indices <b>i<\/b> and <b>j<\/b> that <b>j - i = k<\/b> and <b>i-th<\/b> cube has same color as <b>j-th<\/b>. Call this number as colorfulness of the corresponding permutation.\n\n<\/p><p> Help Little Elephant and for a given <b>n<\/b>, <b>k<\/b> and the description of blocks find the expected colorfulness, considering that permutation <b>P<\/b> is chosen randomly.\n \n<h3>Input<\/h3>\n<\/p><p>First line of the input contains single integer <b>T<\/b> - the number of test cases. Then <b>T<\/b> test cases follow. First line of each test case contains pair of integers <b>n<\/b> and <b>k<\/b>. Next <b>n<\/b> lines of each test case contain pairs of integers <b>A<sub>i<\/sub><\/b> and <b>C<sub>i<\/sub><\/b>.\n\n<h3>Output<\/h3>\n<\/p><p>In <b>T<\/b> lines print <b>T<\/b> numbers - the answers for the corresponding test cases. Your answer will considered correct if it has at most <b>10<sup>-6<\/sup><\/b> absolute or relative error.<\/p>\n\n<h3>Constraints<\/h3>\n<p>\n1 \u2264 <b>T<\/b> \u2264 10\n<\/p><p>\n1 \u2264 <b>n<\/b> \u2264 20\n<\/p><p>\n1 \u2264 <b>k<\/b> \u2264 200\n<\/p><p>\n1 \u2264 <b>A<sub>i<\/sub><\/b> \u2264 10\n<\/p><p>\n1 \u2264 <b>C<sub>i<\/sub><\/b> \u2264 n\n\n<\/p><p>\nThere will be no three or more blocks of the same color in a single test case.\n\n<h3>Example<\/h3>\n\n<pre>\n<b>Input:<\/b>\n1\n7 5\n3 1\n2 2\n2 1\n4 3\n1 2\n1 3\n4 4\n\n<b>Output:<\/b>\n0.9095238\n\n<\/pre><\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"witua","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>witua<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"21-03-2012","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/combinatorics'>\n                    combinatorics\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/june14'>\n                    june14\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/witua'>\n                    witua\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/LEBLOCKS","user":{"username":null},"time":{"view_start_date":1402911000,"submit_start_date":1402911000,"visible_start_date":1402911000,"end_date":1735669800,"current":1493557740},"todo":false,"problem_status":"unattempted"}