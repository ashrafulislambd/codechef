{"category_name":"medium","status":"success","problem_code":"OPTSSET","problem_name":"Optimal Subset","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME53\/mandarin\/OPTSSET.pdf\">Mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME53\/russian\/OPTSSET.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME53\/vietnamese\/OPTSSET.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>Problem description.<\/p>\n<p>You are given a convex polygon of <b>n<\/b> vertices <b>P<sub>1<\/sub>, P<sub>2<\/sub>, ..., P<sub>n<\/sub><\/b> (in counter-clock or clock order). Each vertex is assigned with a weight <b>w<sub>i<\/sub><\/b>.<\/p>\n<p>Find a subset of vertices that <b>includes vertex 1<\/b>.<\/p>\n<p><b>1 = i<sub>1<\/sub> < i<sub>2<\/sub> < ... < i<sub>k<\/sub> \u2264\n n<\/b> that maximizes ratio:<\/p>\n<p><b>(dist(i<sub>1<\/sub>, i<sub>2<\/sub>) + dist(i<sub>2<\/sub>, i<sub>3<\/sub>) + ... + dist(i<sub>k<\/sub>, i<sub>1<\/sub>)) \/ (w<sub>i<sub>1<\/sub><\/sub> + w<sub>i<sub>2<\/sub><\/sub> + ... + w<sub>i<sub>k<\/sub><\/sub>)<\/b>.<\/p>\n<p>Where <b>dist(i, j)<\/b> refers to Euclidean distance between two points <b>P<sub>i<\/sub>, P<sub>j<\/sub><\/b>.<\/p>\n<p>\u00a0<\/p>\n\n\n<h3>Input<\/h3>\n<p>The first line contains an integer <b>T<\/b> denotes the number of test cases. Each test case is describes as follow: <\/p>\n<p>An integer <b>n<\/b> on a single line.<\/p>\n<p><b>n<\/b> next lines, each line contains two integers, that is coordinates of <b>i<\/b>-th vertex<\/b>\n<p>The last line contains <b>n<\/b> space-seperated integer, denotes weight of vertex.<\/p>\n<p>\u00a0<\/p>\n\n<h3>Output<\/h3>\n<p>Each testcase output the maximum ratio can reach on a single line.<\/p>\n<p>Your answer will be considered correct if it has an absolute error less then <b>10<sup>-6<\/sup><\/b>.<\/p>\n<p>\u00a0<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1 \u2264 T \u2264 10<\/b><\/li>\n<li><b>3 \u2264 n \u2264 10<sup>5<\/sup><\/b><\/li>\n<li> The sum of <b>n<\/b> over all test cases is at most <b>2.10<sup>5<\/sup><\/b><\/li>\n<li><b>0<\/b> \u2264 all coordinates \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<li><b>1 \u2264 w<sub>i<\/sub> \u2264 10<sup>5<\/sup><\/b><\/li>\n<\/ul>\n<p><\/p>\n<p>Subtask:<\/p>\n<ul>\n<li>Subtask #1 (10 points): <b>n \u2264 15<\/b><\/li>\n<li>Subtask #2 (30 points): <b>n \u2264 1000<\/b><\/li>\n<li>Subtask #3 (60 points): original constrains<\/li>\n<\/ul>\n<p>\u00a0<\/p>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n3\n3\n0 0\n1 5\n2 9\n4 4 20\n4\n0 0\n1 5\n2 7\n3 6\n12 15 12 11\n5\n0 0\n1 5\n2 8\n3 9\n4 8\n12 11 18 2 7\n\n<b>Output:<\/b>\n1.274754878\n0.606675824\n1.355261854\n<\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, COB, CPP 4.3.2, CPP 6.3, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, kotlin, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.5, RUBY, rust, SCALA, SCM chicken, SCM guile, SCM qobi, ST, swift, TCL, TEXT, WSPC","max_timelimit":"8","source_sizelimit":"50000","problem_author":"chemthan","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>chemthan<\/span>","problem_tester":"melfice","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>melfice<\/span>","date_added":"21-09-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/chemthan'>\n                    chemthan\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/chemthan'>\n                    chemthan\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime53'>\n                    ltime53\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/maths'>\n                    maths\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/optimization'>\n                    optimization\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/OPTSSET","time":{"view_start_date":1509210000,"submit_start_date":1509210000,"visible_start_date":1509210000,"end_date":1735669800,"current":1514816021},"user":{"username":null},"todo":false,"problem_status":"unattempted"}