{"category_name":"medium","status":"success","problem_code":"TRAVTREE","problem_name":"Travelling in a tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME37\/mandarin\/TRAVTREE.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME37\/russian\/TRAVTREE.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME37\/vietnamese\/TRAVTREE.pdf\">Vietnamese<\/a> as well.<\/h3>\n<p>Leha likes traveling a lot. In particular he likes discovering new routes in his world which he calls a tree-world. <\/p>\n<p>Leha's world is a connected tree of <b>N<\/b> vertices, so there is a unique path between any pair of vertices <b>a<\/b> and <b>b<\/b>. Every day Leha chooses some new pair of vertices and walks along this route. Sometimes he notices that he has already been in some vertices during his previous walks. So now for each new route that he takes, he is interested in knowing how many previous routes does it intersect? Two routes are considered to be intersecting with each other, if they have at least one common vertex.<\/p>\n<h3>Input<\/h3>\n<p>The first line contains one integer <b>N<\/b> denoting the number of vertices in the tree. Vertices are enumerated from <b>1<\/b> to <b>N<\/b>.<\/p>\n<p>The following <b>N-1<\/b> describe the edges of the tree. Each of these lines contains two space separated integers <b>u, v<\/b> denoting that there is an edge between vertex <b>u<\/b> and <b>v<\/b>.<\/p>\n<p>The next line contains an integer <b>Q<\/b> denoting the number of days Leha is traveling. Each of next <b>Q<\/b> lines contains two space separated integers <b>u, v<\/b> denoting the start and finish vertices of the corresponding route.<br \/>\n<h3>Output<\/h3>\n<\/p><p>For each day output one integer on a separate line - the number of previous routes it intersects with.<\/p>\n<h3>Constraints with Subtasks<\/h3>\n<ul>\n<li><b>Subtask #1[18 points]<\/b>:<br \/>\n<b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>10<sup>2<\/sup><\/b><\/li>\n<li><b>Subtask #2[19 points]<\/b>:<br \/>\n<b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>10<sup>3<\/sup><\/b><\/li>\n<li><b>Subtask #3[21 points]<\/b>:<br \/>\n<b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>5*10<sup>4<\/sup><\/b><\/li>\n<li><b>Subtask #4[42 points]<\/b>:<br \/>\n<b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>2*10<sup>5<\/sup><\/b>, <b>1<\/b> \u2264 <b>Q<\/b> \u2264 <b>3*10<sup>5<\/sup><\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n5\n1 2\n1 3\n3 4\n3 5\n4\n4 5\n4 2\n1 3\n1 2\n\n<b>Output:<\/b>\n0\n1\n2\n2\n<\/pre><h3>Explanation<\/h3>\n<p><b>Day 1<\/b>. As there is no previous route, the route from <b>4<\/b> to <b>5<\/b> can't intersect with any round. Hence answer is <b>0<\/b>.<\/p>\n<p><b>Day 2<\/b>. Route from <b>4<\/b> to <b>2<\/b> intersects with route 1 (at vertices <b>3<\/b> and <b>4<\/b>), So the answer is <b>1<\/b>.<\/p>\n<p><b>Day 3<\/b>. Route from <b>1<\/b> to <b>3<\/b>: intersects with both the previous routes. Hence answer is 2.<\/p>\n<p><b>Day 4<\/b>. Route from <b>1<\/b> to <b>2<\/b>: intersects with route 2 and 3. Hence answer is <b>2<\/b>.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"pavel1996","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>pavel1996<\/span>","problem_tester":"karanaggarwal","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>karanaggarwal<\/span>","date_added":"14-06-2016","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/heavy-decomp'>\n                    heavy-decomp\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/lca'>\n                    lca\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime37'>\n                    ltime37\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/med-hard'>\n                    med-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/pavel1996'>\n                    pavel1996\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/subtree-sum'>\n                    subtree-sum\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/TRAVTREE","user":{"username":null},"time":{"view_start_date":1466874000,"submit_start_date":1466874000,"visible_start_date":1466874000,"end_date":1735669800,"current":1493557947},"todo":false,"problem_status":"unattempted"}