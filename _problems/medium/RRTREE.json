{"category_name":"medium","status":"success","problem_code":"RRTREE","problem_name":"Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>You are given a tree that is built in a following way: initially there is single vertex <b>1<\/b>. All the other vertices are added one by one, from vertex <b>2<\/b> to vertex <b>N<\/b>, by connecting it to one of those that have been added before. You are to find the <i>diameter<\/i> of the tree after adding each vertex. Let the distance between vertex <b>u<\/b> and <b>v<\/b> be the minimal number of edges you have to pass to get from <b>u<\/b> to <b>v<\/b>, then <i>diameter<\/i> is the maximum distance between any two pairs <b>(u,v)<\/b> that have already been added to the tree.<\/p>\n<h3>Input<\/h3>\n<p>The input consists of several Test cases. The file line of input contains an integer <b>T<\/b>, the number of test cases. <b>T<\/b> test cases follow.<br \/>\nThe first line of each test case contains an integer <b>N<\/b>, then <b>N-1<\/b> lines follow: <b>ith<\/b> line contains an integer <b>P<sub>i<\/sub><\/b>, which means that vertex <b>i+1<\/b> is connected to the vertex <b>P<sub>i<\/sub><\/b>. <\/p>\n<h3>Output<\/h3>\n<p>For each test case, output <b>N-1<\/b> lines - the diameter after adding vertices <b>2, 3,..,N<\/b><\/p>\n<p><h3>Constraints<\/h3>\n<ul>\n<b><\/b><\/ul><\/p>\n<li> 1 \u2264 T \u2264 15\n<\/li><li> 1 \u2264 N \u2264 10<sup>5<\/sup>\n<\/li><li> P<sub>i<\/sub> \u2264 i \n<\/li><li> Sum of <b>N<\/b> over all test cases in a file does not exceed <b>2 * 10<sup>5<\/sup><\/b>\n\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n3\n1\n1\n5\n1\n2\n3\n3\n\n<b>Output:<\/b>\n1\n2\n1\n2\n3\n3\n<\/pre><\/li>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2","source_sizelimit":"50000","problem_author":"Rubanenko","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>rubanenko<\/span>","problem_tester":"utkarsh_lath","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>utkarsh_lath<\/span>","date_added":"14-09-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/Rubanenko'>\n                    Rubanenko\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/bit'>\n                    bit\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook38'>\n                    cook38\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/heavy-light'>\n                    heavy-light\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/segtree'>\n                    segtree\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tree'>\n                    tree\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/RRTREE","user":{"username":null},"time":{"view_start_date":1379874600,"submit_start_date":1379874600,"visible_start_date":1379874600,"end_date":1735669800,"current":1493557924},"todo":false,"problem_status":"unattempted"}