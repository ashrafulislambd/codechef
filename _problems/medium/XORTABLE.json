
{"category_name":"medium","status":"success","problem_code":"XORTABLE","problem_name":"Xor Table","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/hindi\/XORTABLE.pdf), [Mandarin Chinese](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/mandarin\/XORTABLE.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/russian\/XORTABLE.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/vietnamese\/XORTABLE.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/bengali\/XORTABLE.pdf) as well.\n\nThere are two integer sequences $A_1, A_2, \\dots, A_N$ and $B_1, B_2, \\dots, B_M$. You do not know the exact values of their elements, but you know that $L_i \\le A_i \\le R_i$ for each valid $i$ and $P_i \\le B_i \\le Q_i$ for each valid $i$.\n\nYou also have a matrix $C$ with $N$ rows and $M$ columns. Some elements of $C$ are missing. For each element $C_{i, j}$ ($1 \\le i \\le N$, $1 \\le j \\le M$) that is not missing, you know that $C_{i, j} = A_i \\oplus B_j$ ($\\oplus$ denotes bitwise XOR).\n\nYour task is to find two sequences $A$ and $B$ satisfying all given conditions. If multiple solutions exist, you may find any one.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two space-separated integers $N$ and $M$. \n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains two space-separated integers $L_i$ and $R_i$.\n- $M$ lines follow. For each $i$ ($1 \\le i \\le M$), the $i$-th of these lines contains two space-separated integers $P_i$ and $Q_i$.\n- $N$ more lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains $M$ space-separated integers $C_{i, 1}, C_{i, 2}, \\dots, C_{i, M}$. Missing elements are denoted by $-1$.\n\n### Output\nFor each test case:\n- If no solution exists, print a single line containing the string `\"NO\"`.\n- Otherwise, print three lines. The first line should contain the string `\"YES\"`. The second line should contain $N$ space-separated integers $A_1, A_2, \\dots, A_N$. The third line should contain $M$ space-separated integers $B_1, B_2, \\dots, B_M$.\n\n### Constraints \n- $1 \\le T \\le 100$\n- $1 \\le N, M \\le 10^3$\n- the sum of $N \\cdot M$ over all test cases does not exceed $10^6$\n- $0 \\le L_i \\le R_i \\lt 2^{30}$ for each valid $i$\n- $0 \\le P_i \\le Q_i \\lt 2^{30}$ for each valid $i$\n- $-1 \\le C_{i, j} \\lt 2^{30}$ for each valid $i, j$\n\n### Example Input\n```\n2\n3 3\n2 4\n3 4\n4 6\n1 3\n4 7\n6 8\n2 7 4\n5 0 3\n4 1 2\n2 2\n4 6\n5 7\n3 9\n2 4\n3 6\n6 5\n```\n\n### Example Output\n```\nYES\n3 4 5\n1 4 7\nNO\n```","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"kingofnumbers","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>kingofnumbers<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"24-05-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/backtracking'>backtracking<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/bitwise-operatn'>bitwise-operatn<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/constructive'>constructive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/graph'>graph<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kingofnumbers'>kingofnumbers<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/snckel19'>snckel19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/XORTABLE","time":{"view_start_date":1544295600,"submit_start_date":1544295600,"visible_start_date":1544295600,"end_date":1735669800,"current":1559472987},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}