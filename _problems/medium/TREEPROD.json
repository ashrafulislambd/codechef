{"category_name":"medium","status":"success","problem_code":"TREEPROD","problem_name":"Product on Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME30\/mandarin\/TREEPROD.pdf\">Mandarin Chinese <\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME30\/russian\/TREEPROD.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME30\/vietnamese\/TREEPROD.pdf\"> Vietnamese<\/a><\/h3>\n\n\n<p>\nChef is going to leave his home town and shift to a new city. The new city contains exactly <b>N<\/b> houses. There are roads connecting the houses in such a way that there is exactly one way to go from a house to any other house. Length of each of the roads is known to Chef.\n<\/p>\n<p>\nChief is doing a lot of research before shifting to the new city. He wants to know how many pairs of houses (a,b) are there, such that if we multiply length of all the roads on the path from a to b, the product will be divisible by <b>M<\/b>.\n<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>\nFirst line of the input contains a pair of  integers <b>N<\/b> and <b>M<\/b>, where <b>N<\/b> denotes the number of houses.  \n<\/li>\n<li>\nEach of the next <b>(N-1)<\/b> lines contains a triplet of numbers (a,b,c) which will denote that the length of the road between houses <b>a<\/b> and <b>b<\/b> is <b>c<\/b>.\n<\/li>\n<\/ul>\n\n<h3>Output<\/h3>\nA single integer denoting the number of pair of houses. \n\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1 \u2264 M \u2264 500<\/li>\n<li>1 \u2264 weight of the road \u2264 10<sup>9<\/sup><\/b><\/li>\n<\/ul>\n<br \/>\n<b>Subtask #1: 20 points<\/b>\n<ul>\n\t<li><b>1 \u2264 N \u2264 10<sup>5<\/sup><\/li>\n\t<li>M is a prime<\/b><\/li>\n<\/ul>\n<b>Subtask #2: 20 points<\/b>\n<ul>\n\t<li><b>1 \u2264 N \u2264 1000<\/b><\/li>\n<\/ul>\n<b>Subtask #3: 60 points<\/b>\n<ul>\n\t<li><b>1 \u2264 N \u2264 10<sup>5<\/sup><\/b><\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n4 2\n1 3 4\n1 2 4\n1 4 4\n\n<b>Output:<\/b>\n6\n<\/pre>\n\n<h3>Explanation<\/h3>\nIf we multiply the lengths of the roads on the path between any pair of the vertices, it will be divisible by 2.\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"amitpandeykgp","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>amitpandeykgp<\/span>","problem_tester":"pushkarmishra","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>pushkarmishra<\/span>","date_added":"13-11-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/amitpandeykgp'>\n                    amitpandeykgp\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dfs'>\n                    dfs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime30'>\n                    ltime30\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tree'>\n                    tree\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/TREEPROD","user":{"username":null},"time":{"view_start_date":1448785800,"submit_start_date":1448785800,"visible_start_date":1448785800,"end_date":1735669800,"current":1493557949},"todo":false,"problem_status":"unattempted"}