{"category_name":"medium","status":"success","problem_code":"SBSTCNT","problem_name":"Weird Queries","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SNCKFL16\/mandarin\/SBSTCNT.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SNCKFL16\/russian\/SBSTCNT.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SNCKFL16\/vietnamese\/SBSTCNT.pdf\">Vietnamese<\/a> as well.<\/h3>\n<p>\nYou are given a list of <b>M<\/b> positive numbers, <b>A<sub>0<\/sub><\/b>, <b>A<sub>1<\/sub><\/b>, ..., <b>A<sub>M-1<\/sub><\/b>. You have to answer <b>Q<\/b> queries. Each query has four parameters, <b>l, r, n, k<\/b>. Given a query with parameters <b>l, r, n, k<\/b> here is how to compute the answer:<\/p>\n<ul>\n<li>Let <b>(B<sub>1<\/sub>, B<sub>2<\/sub> ..., B<sub>d<\/sub>) = (A<sub>l<\/sub>, A<sub>l+1<\/sub>, ... ,A<sub>r<\/sub>)<\/b>, where <b>d = r-l+1<\/b>.\n<\/li><li>Let <b>S<\/b> = set of all points <b>(x<sub>1<\/sub>, x<sub>2<\/sub>, ..., x<sub>d<\/sub>)<\/b> in <b>d<\/b>-dimensional space such that <b>0 &lt; x<sub>i<\/sub> \u2264 B<sub>i<\/sub><\/b>.\n<\/li><li>For <b>x, y \u2208 S<\/b>, define <b>dist(x, y) = min<sub>1 \u2264 i \u2264 d<\/sub> | x<sub>i<\/sub> - y<sub>i<\/sub> |<\/b>\n<\/li><li> The answer is number of subsets of <b>S<\/b> of size exactly <b>n<\/b> such that distance (denoted by above defined <b>dist<\/b> function) between any two points is at least <b>k<\/b>.\n<\/li><\/ul>\n\n<h3>Input<\/h3>\n<p>The first line of input contains two integers, <b>M<\/b> and <b>Q<\/b>. The second line contains <b>M<\/b> space-separated integers <b>A<sub>0<\/sub><\/b>, <b>A<sub>1<\/sub><\/b>, ..., <b>A<sub>M-1<\/sub><\/b> denoting the array <b>A<\/b>. The next <b>Q<\/b> lines contain one query each. Each query consists of a single line having the four space separated integers <b>l, r, n, k<\/b> in this order.\n<\/p>\n<h3>Output<\/h3>\n<p>For each query, output a single line containing the answer modulo <b>1000000007 (10<sup>9<\/sup> + 7)<\/b>.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>5 \u00d7 10<sup>5<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>Q<\/b> \u2264 <b>3 \u00d7 10<sup>5<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>A<sub>i<\/sub><\/b> \u2264 <b>10<sup>5<\/sup><\/b><\/li>\n<li><b>\u2211 <sub>0 \u2264 i &lt; M<\/sub> A<sub>i<\/sub><\/b> \u2264 <b>3 \u00d7 10<sup>6<\/sup><\/b><\/li>\n<li>For each query, <b>0<\/b> \u2264 <b>l<\/b> \u2264 <b>r<\/b> &lt; <b>M<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>k<\/b> \u2264 <b>10<sup>5<\/sup><\/b><\/li>\n<li><b>0<\/b> \u2264 <b>n<\/b> \u2264 <b>10<sup>5<\/sup><\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n5 2\n4 5 4 6 2\n0 3 1 1\n2 2 2 3\n\n<b>Output:<\/b>\n480\n1\n<\/pre><h3>Explanation<\/h3>\n<p>For the first query, the answer is 4 * 5 * 4 * 6, because we just have to choose one coordinate from each dimension.<br \/>\nFor the second query, the array <b>B = [4]<\/b> and you have to pick two positive integers less than or equal to 4 such that the distance between them is 3 or more. There is only way to do this: pick 1 and 4.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"4","source_sizelimit":"50000","problem_author":"utkarsh_lath","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>utkarsh_lath<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"8-07-2016","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/utkarsh_lath'>\n                    utkarsh_lath\n                <\/a>","user":{"username":null},"time":{"view_start_date":1468063200,"submit_start_date":1468063200,"visible_start_date":1468063200,"end_date":1735669800,"current":1493557892},"todo":false,"problem_status":"unattempted"}