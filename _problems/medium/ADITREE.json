
{"category_name":"medium","status":"success","problem_code":"ADITREE","problem_name":"Adi and the Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>###Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/hindi\/ADITREE.pdf), [Mandarin Chinese](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/mandarin\/ADITREE.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/russian\/ADITREE.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/vietnamese\/ADITREE.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/S19ELTST\/bengali\/ADITREE.pdf) as well.\n\nAdi's town has the shape of an undirected tree (i.e. a connected acyclic graph) with $N$ vertices numbered $1$ through $N$. There is one house at each vertex.\n\nInitially, all houses have lights turned off. Over time, $M$ events occur. In each event, there are two vertices $a$ and $b$ ($a \\neq b$) such that the states of the lights of the houses at vertices $a$ and $b$ get flipped, i.e. at each of these houses, lights are turned off if they were on and vice versa.\n\nThe distance between two vertices in the tree is the number of edges on the simple path between them. Clearly, the number of houses where lights are on is always even. After each event, you should pair up the vertices where houses have lights turned on (each vertex should appear in exactly one pair). Let's define the *cost of a gather-up* as the minimum possible sum of distances between the vertices in each pair. For example, if there are only two houses with lights on, then the cost of a gather-up is the distance between their vertices. If there are no houses with lights on, the cost of a gather-up is zero.\n\nAfter each event, Adi would like to know the cost of a gather-up at that time. Find these costs!\n\n### Input\n- The first line of the input contains a single integer $N$.\n- Each of the next $N-1$ lines contains two space-separated integers $a$ and $b$ denoting an edge between vertices $a$ and $b$.\n- The next line contains a single integer $M$.\n- Each of the next $M$ lines contains two space-separated integers $a$ and $b$ denoting an event.\n \n### Output\nFor each event, print a single line containing one integer \u2014 the cost of a gather-up immediately after this event.\n\n### Constraints \n- $1 \\le N, M \\le 250,000$\n- $1 \\le a, b \\le N$\n\n### Example Input\n```\n6\n1 2\n2 3\n2 4\n4 5\n4 6\n3\n3 6\n2 5\n1 6\n```\n\n### Example Output\n```\n3\n3\n4\n```\n\n### Explanation\nAfter the first event, the houses with lights on are $3$ and $6$. The distance between vertices $3$ and $6$ is $3$.\n\nAfter the second event, the houses with lights on are $2$, $3$, $5$ and $6$. We can pair together vertices $2$ and $3$ (with distance $1$) and vertices $5$ and $6$ (with distance $2$), so the sum is $1 + 2 = 3$.\n\nAfter the third event, the houses with lights on are $1$, $2$, $3$ and $5$. We can pair together vertices $1$ and $2$ (with distance $1$) and vertices $3$ and $5$ (with distance $3$), so the sum is $1 + 3 = 4$.\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, COB, FS","max_timelimit":"2.5","source_sizelimit":"50000","problem_author":"andrei1998","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>andrei1998<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"5-12-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/andrei1998'>andrei1998<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/heavy-light'>heavy-light<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/lazypropagation'>lazypropagation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observations'>observations<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/snckel19'>snckel19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ADITREE","time":{"view_start_date":1544295600,"submit_start_date":1544295600,"visible_start_date":1544295600,"end_date":1735669800,"current":1559472966},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}