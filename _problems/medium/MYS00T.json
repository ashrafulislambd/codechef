
{"category_name":"medium","status":"success","problem_code":"MYS00T","problem_name":"Mystery Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span>### Read problems statements in [Hindi](http:\/\/www.codechef.com\/download\/translated\/COOK105\/hindi\/MYS00T.pdf), [Mandarin Chinese](http:\/\/www.codechef.com\/download\/translated\/COOK105\/mandarin\/MYS00T.pdf), [Russian](http:\/\/www.codechef.com\/download\/translated\/COOK105\/russian\/MYS00T.pdf), [Vietnamese](http:\/\/www.codechef.com\/download\/translated\/COOK105\/vietnamese\/MYS00T.pdf) and [Bengali](http:\/\/www.codechef.com\/download\/translated\/COOK105\/bengali\/MYS00T.pdf) as well.\n\n**This is an interactive problem.**\n\nYou are given a tree with $N$ vertices (numbered $1$ through $N$). Each vertex has a value; let's denote the value of vertex $i$ by $a_i$. Vertex $v$ is a *bad adjacent* of vertex $u$ if there is an edge between vertices $u$ and $v$ and $a_v$ is strictly greater than $a_u$.\n\nYour task is to find a vertex without any bad adjacent or determine that there is no such vertex. You do not know the values $a_1, a_2, \\ldots, a_N$, but you may ask up to $20$ questions.\n\nIn each question, you should choose a vertex $x$; the grader responds with the number of some bad adjacent vertex of vertex $x$ or with $-1$ if $x$ does not have any bad adjacent.\n\n### Interaction\n- First, you should read a line containing a single integer \u2014 the number of test cases $T$. The description of interaction for $T$ test cases follows.\n- For each test case, first, you should read a line containing a single integer $N$.\n- Then, you should read $N-1$ lines. Each of these lines contains two space-separated integers $u$ and $v$ denoting that vertices $u$ and $v$ are connected by an edge.\n- Then, you may ask questions.\n    - To ask a question, you should print a line containing two space-separated integers $1$ and $x$ ($1 \\le x \\le N$).\n    - Then, you should read a line containing a single integer $y$.\n    - If the question was invalid or if you asked too many questions, $y = -2$. If $x$ has no bad adjacent, $y = -1$. Otherwise, $y$ is the number of a bad adjacent of $x$.\n- When you have determined the answer, you should print a line containing two space-separated integers $2$ and $x$. If there is no vertex without a bad adjacent, $x$ should be $-1$; otherwise, $x$ should be the number of a vertex without a bad adjacent.\n- Finally, you should read a line containing a single integer: $1$ if your answer is correct or $-2$ if it is incorrect. If your answer is correct, you should continue solving the remaining test cases.\n\nNote that when you receive $-2$ (either as the response to a question or to your answer), you should immediately terminate your program to receive a Wrong Answer verdict; otherwise, you may receive any verdict.\n\nDon't forget to flush the output after printing each line!\n\n### Constraints \n- $1 \\le T \\le 100$\n- $2 \\le N \\le 2 \\cdot 10^5$\n- $1 \\le a_i \\le 2 \\cdot 10^9$ for each valid $i$\n- $1 \\le u, v \\le N$\n- the sum of $N$ over all test cases does not exceed $6 \\cdot 10^5$\n\n### Example\n```\nGrader                You\n2\n3\n1 2\n1 3                     \t\t\t\t\t\n                      1 1\n2\n                      1 2\n-1\n                      2 2\n1\n4\n1 2\n2 3\n2 4\n                      1 1\n2\n                      1 2\n-1\n                      2 2\n1\n\n```\n\n### Explanation\n**Example case 1:** The values of vertices in the tree are $a_1 = 3$, $a_2 = 10$, $a_3 = 20$. Note that the answer to the first query could have been $3$ instead of $2$ as well.\n\n**Example case 2:** The values of vertices in the tree are $a_1 = 4$, $a_2 = 9$, $a_3 = 3$ and $a_4 = 3$.\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.6, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, PYP3, CLOJ, R, COB, FS","max_timelimit":"2","source_sizelimit":"50000","problem_author":"mrkerim","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>mrkerim<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"18-04-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/centroid-decomp'>centroid-decomp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook105'>cook105<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cookoff'>cookoff<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/data-structure'>data-structure<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/interactive'>interactive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/mrkerim'>mrkerim<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MYS00T","time":{"view_start_date":1555871402,"submit_start_date":1555871402,"visible_start_date":1555871402,"end_date":1735669800,"current":1559472978},"user":{"username":"","access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}