{"category_name":"medium","status":"success","problem_code":"THEGAME","problem_name":"Filling the maze","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SEPT15\/mandarin\/THEGAME.pdf\">Mandarin<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SEPT15\/russian\/THEGAME.pdf\">Russian<\/a>. Translations in Vietnamese to be uploaded soon.<\/h3>\n<p><img src=\"https:\/\/s3.amazonaws.com\/codechef_shared\/download\/SEPT15\/THEGAME.jpg\" \/> <\/p>\n<p>\nConsider a maze like this one, encoded in ASCII as a grid of <b>R<\/b> by <b>C<\/b> cells, denoted by characters <tt>#<\/tt> (a wall) and <tt>o<\/tt> (a walkable cell). The top left cell of the maze is the <i>start<\/i> and the bottom right one is the <i>goal<\/i>. All walkable cells are initially white.\n<\/p>\n<p>\nCell <tt>B<\/tt> is <i>reachable<\/i> from cell <tt>A<\/tt> iff <tt>A<\/tt> and <tt>B<\/tt> are both walkable and it's possible to get to <tt>B<\/tt> by starting at <tt>A<\/tt> and moving only to walkable cells in the four cardinal directions \u2014 up, right, down and left.\n<\/p>\n<p>\nThe maze is complicated and you're too lazy. That's why you try to solve it using the following algorithm:<\/p>\n<ul>\n<li>\nPick a white walkable cell at random and click on it.\n<\/li>\n<li>\nThe cell you picked in the first step and all cells reachable from it turn red.\n<\/li>\n<li>\nIf there's a red path from the start to the goal, you have solved the maze.\n<\/li>\n<li>Else: goto first step.\n<\/li>\n<\/ul>\n<p>(Note that once a cell turns red, it will remain red until the maze is solved. Also note that this algorithm will always terminate.)\n<\/p>\n<p>\nWhat's the expected number of clicks (<a href=\"http:\/\/mathworld.wolfram.com\/ExpectationValue.html\">expectation value<\/a> of the number of clicks) you'll have to make to solve the maze?\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of input contains an integer <b>T<\/b> denoting the number of test cases.<\/p>\n<ul>\n<li>\nThe first line of each test case contains two positive integers <b>R<\/b> and <b>C<\/b> \u2014 the number of rows and columns of the maze, respectively.\n<\/li>\n<li>\nThe following <b>R<\/b> lines each contain <b>C<\/b> characters. Each character is either <tt>#<\/tt> or <tt>o<\/tt>.\n<\/li>\n<\/ul>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing one real number: the expected number of clicks necessary to solve the maze.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>100<\/b><\/li>\n<li><i>subtask 1 (15 pts):<\/i> <b>1<\/b> \u2264 <b>RC<\/b> \u2264 <b>30<\/b><\/li>\n<li><i>subtask 2 (85 pts):<\/i> <b>1<\/b> \u2264 <b>RC<\/b> \u2264 <b>50000<\/b><\/li>\n<li>At least one path from the start to the goal exists in each test case.<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n3 3\no#o\noo#\n#oo\n2 2\noo\noo\n\n<b>Output:<\/b>\n1.166666667\n1.000000000\n\n<\/pre><h3>Explanation<\/h3>\n<p><b>Example case 1.<\/b> With 5\/6 chance, the first click you'll make will be on the only path from the start to the goal. With 1\/6 chance, you'll click on the top right cell before that. The expected number of clicks is therefore <tt>5\/6*1+1\/6*2<\/tt>.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1 - 2","source_sizelimit":"50000","problem_author":"xellos0","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>xellos0<\/span>","problem_tester":"kevinsogo","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>kevinsogo<\/span>","date_added":"27-01-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bfs'>\n                    bfs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dfs'>\n                    dfs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/expected-value'>\n                    expected-value\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/probability'>\n                    probability\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/sept15'>\n                    sept15\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xellos0'>\n                    xellos0\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/THEGAME","user":{"username":null},"time":{"view_start_date":1442223000,"submit_start_date":1442223000,"visible_start_date":1442223000,"end_date":1735669800,"current":1493557946},"todo":false,"problem_status":"unattempted"}